!function(e,n,t){"use strict";n.module("FileManagerApp",["pascalprecht.translate","ngFileUpload"]),t(e.document).on("shown.bs.modal",".modal",function(){e.setTimeout(function(){t("[autofocus]",this).focus()}.bind(this),100)}),t(e.document).on("click",function(){t("#context-menu").hide()}),t(e.document).on("contextmenu",'.main-navigation .table-files tr.item-list:has("td"), .item-list',function(n){var r=t("#context-menu");n.pageX>=e.innerWidth-r.width()&&(n.pageX-=r.width()),n.pageY>=e.innerHeight-r.height()&&(n.pageY-=r.height()),r.hide().css({left:n.pageX,top:n.pageY}).appendTo("body").show(),n.preventDefault()}),Array.prototype.find||(Array.prototype.find=function(e){if(null==this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var n,t=Object(this),r=t.length>>>0,i=arguments[1],a=0;a<r;a++)if(n=t[a],e.call(i,n,a,t))return n})}(window,angular,jQuery),function(e,n){"use strict";e.module("FileManagerApp").controller("FileManagerCtrl",["$scope","$rootScope","$window","$translate","$location","$interval","$filter","fileManagerConfig","item","fileNavigator","apiMiddleware",function(t,r,i,a,s,l,o,d,c,p,m){function u(e){localStorage.setItem(e+"_fileList",JSON.stringify(t.fileNavigator.fileList)),localStorage.setItem(e+"_history",JSON.stringify(t.fileNavigator.history)),localStorage.setItem(e+"_currentPath",JSON.stringify(t.fileNavigator.currentPath))}function g(e,n){var t;for(var r in n){if(void 0!=t)break;var i=n[r];i.name.split("/").pop()===e?t=i.item:i.nodes&&i.nodes.length>0&&(t=g(e,i.nodes))}return t}var h=i.localStorage;t.config=d,t.reverse=!1,t.predicate=["model.type","model.name"],t.order=function(e){t.reverse=t.predicate[1]===e&&!t.reverse,t.predicate[1]=e},t.query="",t.fileNavigator=new p,t.apiMiddleware=new m,t.uploadFileList=[],t.viewTemplate=h.getItem("viewTemplate")||"main-icons.html",t.fileList=[],t.temps=[],t.clickedCancelReportButtons=new Set,t.currentFolder={},t.$watch("temps",function(){t.singleSelection()?(t.temp=t.singleSelection(),t.isReportOpen=!0,t.isDescriptionOpen=!0,t.temps[0].model.path&&"file"===t.temps[0].model.type&&"processed"===t.temps[0].model.processingStatus&&t.listReports()):(t.temp=new c({rights:644}),t.temp.multiple=!0),t.temp.revert()}),t.fileNavigator.onRefresh=function(){t.temps=[],t.query="",r.selectedModalPath=t.fileNavigator.currentPath},t.setTemplate=function(e){h.setItem("viewTemplate",e),t.viewTemplate=e},t.changeLanguage=function(e){return e?(h.setItem("language",e),a.use(e)):void a.use(h.getItem("language")||d.defaultLang)},t.isSelected=function(e){return t.temps.indexOf(e)!==-1},t.selectOrUnselect=function(e,n){var r=t.temps.indexOf(e),i=n&&3==n.which;if(n&&n.target.hasAttribute("prevent"))return void(t.temps=[]);if(!(!e||i&&t.isSelected(e))){if(n&&n.shiftKey&&!i){var a=t.fileList,s=a.indexOf(e),l=t.temps[0],o=a.indexOf(l),d=void 0;if(l&&a.indexOf(l)<s){for(t.temps=[];o<=s;)d=a[o],!t.isSelected(d)&&t.temps.push(d),o++;return}if(l&&a.indexOf(l)>s){for(t.temps=[];o>=s;)d=a[o],!t.isSelected(d)&&t.temps.push(d),o--;return}}return n&&!i&&(n.ctrlKey||n.metaKey)?void(t.isSelected(e)?t.temps.splice(r,1):t.temps.push(e)):void(t.temps=[e])}},t.singleSelection=function(){return 1===t.temps.length&&t.temps[0]},t.totalSelecteds=function(){return{total:t.temps.length}},t.selectionHas=function(e){return t.temps.find(function(n){return n&&n.model.type===e})},t.selectionHasOtherStatusThan=function(e){return t.temps.find(function(n){return n&&n.model.processingStatus!==e})},t.prepareNewFolder=function(){var e=new c(null,t.fileNavigator.currentPath);return t.temps=[e],e},t.goTo=function(e){(0===e&&"user"===t.fileNavigator.currentPath[0]||1===e&&"organizations"===t.fileNavigator.currentPath[0])&&(t.currentFolder.sectionLength=200),t.fileNavigator.goTo(e)},t.smartClick=function(e){t.currentFolder.sectionLength=e.model.maxSectionLength,0==t.currentFolder.sectionLength&&(t.currentFolder.sectionLength=200);var n=t.config.allowedActions.pickFiles;if(e.isFolder())return t.fileNavigator.folderClick(e);if("function"==typeof t.config.pickCallback&&n){var r=t.config.pickCallback(e.model);if(r===!0)return}return e.isImage()?t.config.previewImagesInModal?t.openImagePreview(e):t.apiMiddleware.download(e,!0):void 0},t.openImagePreview=function(){var e=t.singleSelection();t.apiMiddleware.apiHandler.inprocess=!0,t.modal("imagepreview",null,!0).find("#imagepreview-target").attr("src",t.apiMiddleware.getUrl(e)).unbind("load error").on("load error",function(){t.apiMiddleware.apiHandler.inprocess=!1,t.$apply()})},t.openEditItem=function(){var e=t.singleSelection();t.apiMiddleware.getContent(e).then(function(n){e.tempModel.content=e.model.content=n.result}),t.modal("edit")},t.modal=function(e,r,i){if("remove"!==e||r){"startreportgeneration"!==e||r?"startbatchreportgeneration"!==e||r||(t.report={reportSettings:{}}):t.report={reportName:t.singleSelection().model.name+" - "+o("date")(new Date,"yyyy-MM-dd HH:mm:ss"),reportSettings:{}};var a=n("#"+e);return a.modal(r?"hide":"show"),t.apiMiddleware.apiHandler.error="",t.apiMiddleware.apiHandler.asyncSuccess=!1,!i||a}t.apiMiddleware.checkBeforeRemove(t.temps).then(function(r){t.removePreviewResult=r;var a=n("#"+e);return a.modal("show"),t.apiMiddleware.apiHandler.error="",t.apiMiddleware.apiHandler.asyncSuccess=!1,!i||a})},t.modalWithPathSelector=function(e){return r.selectedModalPath=t.fileNavigator.currentPath,t.modal(e)},t.isInThisPath=function(e){var n=t.fileNavigator.currentPath.join("/")+"/";return n.indexOf(e+"/")!==-1},t.edit=function(){t.apiMiddleware.edit(t.singleSelection()).then(function(){t.modal("edit",!0)})},t.changePermissions=function(){t.apiMiddleware.changePermissions(t.temps,t.temp).then(function(){t.modal("changepermissions",!0)})},t.download=function(){var e=t.singleSelection();if(!t.selectionHas("dir"))return e?t.apiMiddleware.download(e):t.apiMiddleware.downloadMultiple(t.temps)},t.copy=function(){var e=t.singleSelection();if(e){var n=e.tempModel.name.trim(),i=t.fileNavigator.fileNameExists(n);if(!n)return t.apiMiddleware.apiHandler.error=a.instant("error_invalid_filename"),!1;if(i&&f(e))return t.apiMiddleware.apiHandler.error=a.instant("error_existing_filename"),!1}t.apiMiddleware.copy(t.temps,r.selectedModalPath).then(function(){t.fileNavigator.refresh(),t.modal("copy",!0)})},t.compress=function(){var e=t.temp.tempModel.name.trim(),n=t.fileNavigator.fileNameExists(e);return e?n&&f(t.temp)?(t.apiMiddleware.apiHandler.error=a.instant("error_existing_filename"),!1):void t.apiMiddleware.compress(t.temps,e,r.selectedModalPath).then(function(){return t.fileNavigator.refresh(),t.config.compressAsync?void(t.apiMiddleware.apiHandler.asyncSuccess=!0):t.modal("compress",!0)},function(){t.apiMiddleware.apiHandler.asyncSuccess=!1}):(t.apiMiddleware.apiHandler.error=a.instant("error_invalid_filename"),!1)},t.extract=function(){var e=t.temp,n=t.temp.tempModel.name.trim(),i=t.fileNavigator.fileNameExists(n);return n?i&&f(t.temp)?(t.apiMiddleware.apiHandler.error=a.instant("error_existing_filename"),!1):void t.apiMiddleware.extract(e,n,r.selectedModalPath).then(function(){return t.fileNavigator.refresh(),t.config.extractAsync?void(t.apiMiddleware.apiHandler.asyncSuccess=!0):t.modal("extract",!0)},function(){t.apiMiddleware.apiHandler.asyncSuccess=!1}):(t.apiMiddleware.apiHandler.error=a.instant("error_invalid_filename"),!1)},t.remove=function(){t.apiMiddleware.remove(t.temps).then(function(){t.fileNavigator.refresh(),t.modal("remove",!0)})},t.move=function(){var e=t.singleSelection()||t.temps[0];return e&&f(e)?(t.apiMiddleware.apiHandler.error=a.instant("error_cannot_move_same_path"),!1):void t.apiMiddleware.move(t.temps,r.selectedModalPath).then(function(){t.fileNavigator.refresh(),t.modal("move",!0)})},t.rename=function(){var e=t.singleSelection(),n=e.tempModel.name,r=e.tempModel.path.join("")===e.model.path.join("");return n?r&&t.fileNavigator.fileNameExists(n)?(t.apiMiddleware.apiHandler.error=a.instant("error_existing_filename"),!1):void t.apiMiddleware.rename(e).then(function(){t.fileNavigator.refresh(),t.modal("rename",!0)}):(t.apiMiddleware.apiHandler.error=a.instant("error_invalid_filename"),!1)},t.createFolder=function(e){var n=t.singleSelection();n.tempModel.maxSectionLength=e;var r=n.tempModel.name;return r?t.fileNavigator.fileNameExists(r)?t.apiMiddleware.apiHandler.error=a.instant("error_creating_folder_already_exists"):void t.apiMiddleware.createFolder(n).then(function(){t.fileNavigator.refresh(),t.modal("newfolder",!0)}):t.apiMiddleware.apiHandler.error=a.instant("error_invalid_filename")},t.addForUpload=function(e){t.uploadFileList=t.uploadFileList.concat(e),t.modal("uploadfile")},t.removeFromUpload=function(e){t.uploadFileList.splice(e,1)},t.uploadFiles=function(){for(var e in t.fileNavigator.fileList)for(var n in t.uploadFileList)if(t.fileNavigator.fileList[e].model.name===t.uploadFileList[n].name)return t.apiMiddleware.apiHandler.error=a.instant("error_creating_folder_already_exists");t.apiMiddleware.upload(t.uploadFileList,t.fileNavigator.currentPath).then(function(){t.fileNavigator.refresh(),t.uploadFileList=[],t.modal("uploadfile",!0)},function(e){var n=a.instant("error_uploading_files");e&&e.result&&e.result.error&&(n=e.result.error),e&&e.result&&409==e.result.status&&(n=a.instant("error_uploading_files_file_already_exists")),e&&e.code&&403===e.code&&(n=a.instant("error_uploading_files_wrong_destination")),t.apiMiddleware.apiHandler.error=n})},t.emptyList=function(){t.uploadFileList=[],n("#uploadfile").modal("hide")},t.prepareReportGeneration=function(){t.modalFileNavigator=new p},t.startReportGeneration=function(e){if(t.reportStartSubmitted=!0,!e.reportName)return void(t.apiMiddleware.apiHandler.error=a.instant("REPORT_GENERATION_MODAL.REPORT_NAME_IS_REQUIRED"));if(!e.reportSettings.myFiles&&!e.reportSettings.institutionFiles&&!e.reportSettings.webResources)return void(t.apiMiddleware.apiHandler.error=a.instant("REPORT_GENERATION_MODAL.REPORT_TARGET_REQUIRED"));var n=t.temps[0].model.fullPath(),i=t.temps[0].model.name;e.filePath=n,e.fileName=i,e.includedCorpuses=[];for(var s in r.reportDirFilters){var l=r.reportDirFilters[s].model.fullPath();if(l.startsWith("/user/"))l="user:"+r.activeUser.userId+":"+encodeURIComponent(l.split("/user/")[1]);else if(l.startsWith("/organizations/")){var o=l.split("/").slice(2,3)[0],d=encodeURIComponent(l.split("/").slice(3).join("/"));l=o+":"+d}e.includedCorpuses.push(l)}r.reportDirFilters=[],t.apiMiddleware.startReportGeneration(e).then(function(){t.fileNavigator.refresh(),t.modal("startreportgeneration",!0)})},t.cancelReportGeneration=function(e,n){t.clickedCancelReportButtons.add(e),t.apiMiddleware.cancelReportGeneration(e,n)},t.closeReportModal=function(){r.reportDirFilters=[]},t.startBatchReportGeneration=function(n){if(t.batchReportStartSubmitted=!0,!n.reportSettings.myFiles&&!n.reportSettings.institutionFiles&&!n.reportSettings.webResources)return void(t.apiMiddleware.apiHandler.error=a.instant("REPORT_GENERATION_MODAL.REPORT_TARGET_REQUIRED"));var r=[];e.forEach(t.temps,function(e){r.push({path:e.model.fullPath(),name:e.model.name})}),n.selectedDocuments=r,t.apiMiddleware.startBatchReportGeneration(n).then(function(){t.fileNavigator.refresh(),t.modal("startbatchreportgeneration",!0)})},t.listReports=function(){if(t.temps[0].model.path&&"file"===t.temps[0].model.type&&"processed"===t.temps[0].model.processingStatus){var e=t.temps[0].model.fullPath();t.apiMiddleware.listReports(e).then(function(e){t.currentReports=e.result,t.isReportOpen=!0,t.isDescriptionOpen=!0,t.reportLimit=2,t.isLimited=!0})}},t.getReportLimit=function(){return t.isLimited||!t.currentReports?t.reportLimit:t.currentReports.length},t.toggleFullReportList=function(){t.isLimited=!t.isLimited},t.openReport=function(e){u(e),s.path(d.reportViewBasePath+e)},t.shouldDescriptionBeOpen=function(){return 1==t.temps.length&&t.temps[0].model&&t.temps[0].model.name},t.allowActionsWithSingleSelection=function(){return 1===t.temps.length&&t.temps[0]&&t.temps[0].model&&1!=t.temps[0].model.base},t.allowActionsWithMultiSelection=function(){var n=!0;return t.temps.length>1&&(e.forEach(t.temps,function(e){e.model&&e.model.base&&1==e.model.base&&(n=!1)}),n)};var f=function(e){var n=r.selectedModalPath.join(""),t=e&&e.model.path.join("");return t===n},v=function(e){var n=i.location.search.substr(1).split("&").filter(function(n){return e===n.split("=")[0]});return n[0]&&n[0].split("=")[1]||void 0};t.changeLanguage(v("lang")),t.isWindows="Windows"===v("server"),t.fileNavigator.refresh(),t.refreshList=function(){t.fileNavigator.refresh()},t.getClassForScore=function(e){var n="badge ";return e<.25?n+="low":e<.5?n+="medium":e<.75?n+="high":e<=1&&(n+="very-high"),n},t.update=l(function(){t.fileNavigator.updateStatus(),t.singleSelection()&&t.temps[0].model.path&&"file"===t.temps[0].model.type&&"processed"===t.temps[0].model.processingStatus&&t.listReports()},1e4),t.stopUpdate=function(){e.isDefined(t.update)&&(l.cancel(t.update),t.update=void 0)},t.translateDirName=function(e){var n=g(e,t.fileNavigator.history);return n?t.translateItem(n):e},t.translateItem=function(e){if(e&&e.model&&e.model.name){if(!e.model.base)return e.model.name;if(e.model.name){var n=e.model.name;if(n.indexOf(":")>-1){var t=n.indexOf(":");n=n.substring(0,t)}var r=a.instant(n,e.model.nameVariables);return r}}},t.$on("$destroy",function(){t.stopUpdate()})}])}(angular,jQuery),function(e){"use strict";e.module("FileManagerApp").controller("ModalFileManagerCtrl",["$scope","$rootScope","fileNavigator",function(e,n,t){function r(e){var t=-1;for(var r in n.reportDirFilters){var i=n.reportDirFilters[r];if(e.model.name===i.model.name&&e.model.path.join()===i.model.path.join()){t=r;break}}return t}e.reverse=!1,e.predicate=["model.type","model.name"],e.fileNavigator=new t,n.selectedModalPath=[],n.reportDirFilters=[],e.order=function(n){e.reverse=e.predicate[1]===n&&!e.reverse,e.predicate[1]=n},e.select=function(t){n.selectedModalPath=t.model.fullPath().split("/"),e.modal("selector",!0)},e.selectCurrent=function(){n.selectedModalPath=e.fileNavigator.currentPath,e.modal("selector",!0)},e.selectedFilesAreChildOfPath=function(n){var t=n.model.fullPath();return e.temps.find(function(e){var n=e.model.fullPath();if(t==n)return!0})},n.openNavigator=function(n){e.fileNavigator.currentPath=n,e.fileNavigator.refresh(),e.modal("selector")},n.getSelectedPath=function(){var t=n.selectedModalPath.filter(Boolean),r="/"+t.join("/");return e.singleSelection()&&!e.singleSelection().isFolder()&&(r+="/"+e.singleSelection().tempModel.name),r.replace(/\/\//,"/")},e.isChecked=function(e){return r(e)>-1},e.toggleSelection=function(e){var t=r(e);t>-1?n.reportDirFilters.splice(t,1):n.reportDirFilters.push(e)}}])}(angular),function(e){"use strict";var n=e.module("FileManagerApp");n.directive("angularFilemanager",["$parse","fileManagerConfig",function(e,n){return{restrict:"EA",templateUrl:n.tplPath+"/main.html"}}]),n.directive("ngFile",["$parse",function(e){return{restrict:"A",link:function(n,t,r){var i=e(r.ngFile),a=i.assign;t.bind("change",function(){n.$apply(function(){a(n,t[0].files)})})}}}]),n.directive("ngRightClick",["$parse",function(e){return function(n,t,r){var i=e(r.ngRightClick);t.bind("contextmenu",function(e){n.$apply(function(){e.preventDefault(),i(n,{$event:e})})})}}])}(angular),function(e){"use strict";e.module("FileManagerApp").service("chmod",function(){var e=function(e){if(this.owner=this.getRwxObj(),this.group=this.getRwxObj(),this.others=this.getRwxObj(),e){var n=isNaN(e)?this.convertfromCode(e):this.convertfromOctal(e);if(!n)throw new Error("Invalid chmod input data (%s)".replace("%s",e));this.owner=n.owner,this.group=n.group,this.others=n.others}};return e.prototype.toOctal=function(e,n){var t=[];return["owner","group","others"].forEach(function(e,n){t[n]=this[e].read&&this.octalValues.read||0,t[n]+=this[e].write&&this.octalValues.write||0,t[n]+=this[e].exec&&this.octalValues.exec||0}.bind(this)),(e||"")+t.join("")+(n||"")},e.prototype.toCode=function(e,n){var t=[];return["owner","group","others"].forEach(function(e,n){t[n]=this[e].read&&this.codeValues.read||"-",t[n]+=this[e].write&&this.codeValues.write||"-",t[n]+=this[e].exec&&this.codeValues.exec||"-"}.bind(this)),(e||"")+t.join("")+(n||"")},e.prototype.getRwxObj=function(){return{read:!1,write:!1,exec:!1}},e.prototype.octalValues={read:4,write:2,exec:1},e.prototype.codeValues={read:"r",write:"w",exec:"x"},e.prototype.convertfromCode=function(e){if(e=(""+e).replace(/\s/g,""),e=10===e.length?e.substr(1):e,/^[-rwxts]{9}$/.test(e)){var n=[],t=e.match(/.{1,3}/g);for(var r in t){var i=this.getRwxObj();i.read=/r/.test(t[r]),i.write=/w/.test(t[r]),i.exec=/x|t/.test(t[r]),n.push(i)}return{owner:n[0],group:n[1],others:n[2]}}},e.prototype.convertfromOctal=function(e){if(e=(""+e).replace(/\s/g,""),e=4===e.length?e.substr(1):e,/^[0-7]{3}$/.test(e)){var n=[],t=e.match(/.{1}/g);for(var r in t){var i=this.getRwxObj();i.read=/[4567]/.test(t[r]),i.write=/[2367]/.test(t[r]),i.exec=/[1357]/.test(t[r]),n.push(i)}return{owner:n[0],group:n[1],others:n[2]}}},e})}(angular),function(e){"use strict";e.module("FileManagerApp").factory("item",["fileManagerConfig","chmod",function(n,t){var r=function(n,r){var i={objectId:n&&n.objectId||"",name:n&&n.name||"",nameVariables:n&&n.nameVariables,path:r||[],type:n&&n.type||"file",size:n&&parseInt(n.size||0),creationDate:n&&new Date(n.creationDate),modificationDate:n&&new Date(n.modificationDate),perms:new t(n&&n.rights),content:n&&n.content||"",recursive:!1,fullPath:function(){var e=this.path.filter(Boolean);return("/"+e.join("/")+"/"+this.name).replace(/\/\//,"/")},order:n&&parseInt(n.order||0),base:n&&n.base,processingStatus:n&&n.processingStatus,owner:n&&n.owner,maxSectionLength:n&&n.maxSectionLength,showAlways:n&&n.showAlways};this.error="",this.processing=!1,this.model=e.copy(i),this.tempModel=e.copy(i)};return r.prototype.update=function(){e.extend(this.model,e.copy(this.tempModel))},r.prototype.revert=function(){e.extend(this.tempModel,e.copy(this.model)),this.error=""},r.prototype.isFolder=function(){return"dir"===this.model.type},r.prototype.isEditable=function(){return!this.isFolder()&&n.isEditableFilePattern.test(this.model.name)},r.prototype.isImage=function(){return n.isImageFilePattern.test(this.model.name)},r.prototype.isCompressible=function(){return this.isFolder()},r.prototype.isExtractable=function(){return!this.isFolder()&&n.isExtractableFilePattern.test(this.model.name)},r.prototype.isSelectable=function(){return this.isFolder()&&n.allowedActions.pickFolders||!this.isFolder()&&n.allowedActions.pickFiles},r}])}(angular),function(e){"use strict";e.module("FileManagerApp").provider("fileManagerConfig",function(){var n={appName:"angular-filemanager v1.5",defaultLang:"en",listUrl:"bridges/php/handler.php",uploadUrl:"bridges/php/handler.php",renameUrl:"bridges/php/handler.php",copyUrl:"bridges/php/handler.php",moveUrl:"bridges/php/handler.php",removeUrl:"bridges/php/handler.php",checkBeforeRemoveUrl:"",editUrl:"bridges/php/handler.php",getContentUrl:"bridges/php/handler.php",createFolderUrl:"bridges/php/handler.php",downloadFileUrl:"bridges/php/handler.php",downloadMultipleUrl:"bridges/php/handler.php",compressUrl:"bridges/php/handler.php",extractUrl:"bridges/php/handler.php",permissionsUrl:"bridges/php/handler.php",reportGenerationUrl:"",cancelReportGenerationUrl:"",batchReportGenerationUrl:"",reportListUrl:"",reportViewBasePath:"",authenticationUrl:"",searchForm:!0,sidebar:!0,breadcrumb:!0,allowedActions:{upload:!0,rename:!0,move:!0,copy:!0,edit:!0,changePermissions:!0,compress:!0,compressChooseName:!0,extract:!0,download:!0,downloadMultiple:!0,preview:!0,remove:!0,createFolder:!0,pickFiles:!1,pickFolders:!1,reportgeneration:!1},multipleDownloadFileName:"angular-filemanager.zip",showExtensionIcons:!0,showSizeForDirectories:!1,useBinarySizePrefixes:!1,downloadFilesByAjax:!0,previewImagesInModal:!0,enablePermissionsRecursive:!0,compressAsync:!1,extractAsync:!1,pickCallback:null,isEditableFilePattern:/\.(txt|diff?|patch|svg|asc|cnf|cfg|conf|html?|.html|cfm|cgi|aspx?|ini|pl|py|md|css|cs|js|jsp|log|htaccess|htpasswd|gitignore|gitattributes|env|json|atom|eml|rss|markdown|sql|xml|xslt?|sh|rb|as|bat|cmd|cob|for|ftn|frm|frx|inc|lisp|scm|coffee|php[3-6]?|java|c|cbl|go|h|scala|vb|tmpl|lock|go|yml|yaml|tsv|lst)$/i,isImageFilePattern:/\.(jpe?g|gif|bmp|png|svg|tiff?)$/i,isExtractableFilePattern:/\.(gz|tar|rar|g?zip)$/i,tplPath:"src/templates"};return{$get:function(){return n},set:function(t){e.extend(n,t)}}})}(angular),function(e){"use strict";e.module("FileManagerApp").config(["$translateProvider",function(e){}])}(angular),function(e,n){"use strict";e.module("FileManagerApp").service("apiHandler",["$http","$q","$window","$translate","Upload",function(e,t,r,i,a){e.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";var s=function(){this.inprocess=!1,this.asyncSuccess=!1,this.error=""};return s.prototype.deferredHandler=function(e,n,t,r){return e&&"object"==typeof e||r||(this.error="Error %s - Bridge response error, please check the API docs or this ajax response.".replace("%s",t)),404==t&&(this.error="Error 404 - Backend bridge is not working, please check the ajax response."),e&&e.result&&e.result.error&&(this.error=e.result.error),!this.error&&e&&e.error&&(this.error=e.error.message),!this.error&&r&&(this.error=r),null!=e&&("object"!=typeof e?e={result:e,code:t}:e.code=t),this.error?n.reject(e):n.resolve(e)},s.prototype.list=function(n,r,i,a){var s=this,l=i||s.deferredHandler,o=t.defer(),d={action:"list",path:r};return a&&(d.modifiedSince=a),s.inprocess=!0,s.error="",e.post(n,d).success(function(e,n){l(e,o,n)}).error(function(e,n){l(e,o,n,"Unknown error listing, check the response")})["finally"](function(){s.inprocess=!1}),o.promise},s.prototype.copy=function(n,r,a,s){var l=this,o=t.defer(),d={action:"copy",items:r,newPath:a};return s&&1===r.length&&(d.singleFilename=s),l.inprocess=!0,l.error="",e.post(n,d).success(function(e,n){l.deferredHandler(e,o,n)}).error(function(e,n){l.deferredHandler(e,o,n,i.instant("error_copying"))})["finally"](function(){l.inprocess=!1}),o.promise},s.prototype.move=function(n,r,a){var s=this,l=t.defer(),o={action:"move",items:r,newPath:a};return s.inprocess=!0,s.error="",e.post(n,o).success(function(e,n){s.deferredHandler(e,l,n)}).error(function(e,n){s.deferredHandler(e,l,n,i.instant("error_moving"))})["finally"](function(){s.inprocess=!1}),l.promise},s.prototype.remove=function(n,r){var a=this,s=t.defer(),l={action:"remove",items:r};return a.inprocess=!0,a.error="",e.post(n,l).success(function(e,n){a.deferredHandler(e,s,n)}).error(function(e,n){a.deferredHandler(e,s,n,i.instant("error_deleting"))})["finally"](function(){a.inprocess=!1}),s.promise},s.prototype.checkBeforeRemove=function(n,r){var a=this,s=t.defer(),l={action:"remove",items:r};return a.inprocess=!0,a.error="",e.post(n,l).success(function(e,n){a.deferredHandler(e,s,n)}).error(function(e,n){a.deferredHandler(e,s,n,i.instant("error_delete_check"))})["finally"](function(){a.inprocess=!1}),s.promise},s.prototype.upload=function(e,n,r){var i=this,s=t.defer();i.inprocess=!0,i.progress=0,i.error="";for(var l={destination:n},o=0;o<r.length;o++)l["file-"+o]=r[o];return r&&r.length&&a.upload({url:e,data:l}).then(function(e){i.deferredHandler(e.data,s,e.status)},function(e){i.deferredHandler(e.data,s,e.status,"Unknown error uploading files")},function(e){i.progress=Math.min(100,parseInt(100*e.loaded/e.total))-1})["finally"](function(){i.inprocess=!1,i.progress=0}),s.promise},s.prototype.getContent=function(n,r){var a=this,s=t.defer(),l={action:"getContent",item:r};return a.inprocess=!0,a.error="",e.post(n,l).success(function(e,n){a.deferredHandler(e,s,n)}).error(function(e,n){a.deferredHandler(e,s,n,i.instant("error_getting_content"))})["finally"](function(){a.inprocess=!1}),s.promise},s.prototype.edit=function(n,r,a){var s=this,l=t.defer(),o={action:"edit",item:r,content:a};return s.inprocess=!0,s.error="",e.post(n,o).success(function(e,n){s.deferredHandler(e,l,n)}).error(function(e,n){s.deferredHandler(e,l,n,i.instant("error_modifying"))})["finally"](function(){s.inprocess=!1}),l.promise},s.prototype.rename=function(n,r,a){var s=this,l=t.defer(),o={action:"rename",item:r,newItemPath:a};return s.inprocess=!0,s.error="",e.post(n,o).success(function(e,n){s.deferredHandler(e,l,n)}).error(function(e,n){s.deferredHandler(e,l,n,i.instant("error_renaming"))})["finally"](function(){s.inprocess=!1}),l.promise},s.prototype.getUrl=function(e,t,r){var i={action:"download",path:t,objectId:r};return t&&[e,n.param(i)].join("?")},s.prototype.download=function(n,a,s,l,o,d){var c=this,p=this.getUrl(n,a,l);if(!o||d||!r.saveAs)return!r.saveAs&&r.console.log("Your browser dont support ajax download, downloading by default"),!!r.open(p,"_blank","");var m=t.defer();return c.inprocess=!0,e.get(p).success(function(e){var n=new r.Blob([e]);m.resolve(e),r.saveAs(n,s)}).error(function(e,n){c.deferredHandler(e,m,n,i.instant("error_downloading"))})["finally"](function(){c.inprocess=!1}),m.promise},s.prototype.downloadMultiple=function(a,s,l,o,d){var c=this,p=t.defer(),m={action:"downloadMultiple",items:s,toFilename:l},u=[a,n.param(m)].join("?");return o&&!d&&r.saveAs?(c.inprocess=!0,e.get(a).success(function(e){var n=new r.Blob([e]);p.resolve(e),r.saveAs(n,l)}).error(function(e,n){c.deferredHandler(e,p,n,i.instant("error_downloading"))})["finally"](function(){c.inprocess=!1}),p.promise):(!r.saveAs&&r.console.log("Your browser dont support ajax download, downloading by default"),!!r.open(u,"_blank",""))},s.prototype.compress=function(n,r,a,s){var l=this,o=t.defer(),d={action:"compress",items:r,destination:s,compressedFilename:a};return l.inprocess=!0,l.error="",e.post(n,d).success(function(e,n){l.deferredHandler(e,o,n)}).error(function(e,n){l.deferredHandler(e,o,n,i.instant("error_compressing"))})["finally"](function(){l.inprocess=!1}),o.promise},s.prototype.extract=function(n,r,a,s){var l=this,o=t.defer(),d={action:"extract",item:r,destination:s,folderName:a};return l.inprocess=!0,l.error="",e.post(n,d).success(function(e,n){l.deferredHandler(e,o,n)}).error(function(e,n){l.deferredHandler(e,o,n,i.instant("error_extracting"))})["finally"](function(){l.inprocess=!1}),o.promise},s.prototype.changePermissions=function(n,r,a,s,l){var o=this,d=t.defer(),c={action:"changePermissions",items:r,perms:a,permsCode:s,recursive:!!l};return o.inprocess=!0,o.error="",e.post(n,c).success(function(e,n){o.deferredHandler(e,d,n)}).error(function(e,n){o.deferredHandler(e,d,n,i.instant("error_changing_perms"))})["finally"](function(){o.inprocess=!1}),d.promise},s.prototype.createFolder=function(n,r,a){var s=this,l=t.defer(),o={action:"createFolder",newPath:r,maxSectionLength:a};return s.inprocess=!0,s.error="",e.post(n,o).success(function(e,n){s.deferredHandler(e,l,n)}).error(function(e,n){409==n?s.deferredHandler(e,l,n,i.instant("error_creating_folder_already_exists")):s.deferredHandler(e,l,n,i.instant("error_creating_folder"))})["finally"](function(){s.inprocess=!1}),l.promise},s.prototype.startReportGeneration=function(n,r){var a=this,s=t.defer(),l=r;return a.inprocess=!0,a.error="",e.post(n,l).success(function(e,n){a.deferredHandler({result:e},s,n)}).error(function(e,n){409===n?a.deferredHandler(e,s,n,i.instant("error_not_unique_report_name")):a.deferredHandler(e,s,n,i.instant("error_starting_report_generation"))})["finally"](function(){a.inprocess=!1}),s.promise},s.prototype.cancelReportGeneration=function(n,r,a){const s=this,l=t.defer();return s.inprocess=!0,s.error="",n+="/"+r+"/"+a,e["delete"](n).success(function(e,n){s.deferredHandler("",l,n)}).error(function(e,n){s.deferredHandler(e,l,n,i.instant("error_canceling_report_generation"))})["finally"](function(){s.inprocess=!1}),l.promise},s.prototype.startBatchReportGeneration=function(n,r){var a=this,s=t.defer(),l=r;return a.inprocess=!0,a.error="",e.post(n,l).success(function(e,n){a.deferredHandler({result:e},s,n)}).error(function(e,n){a.deferredHandler(e,s,n,i.instant("error_starting_batch_report_generation"))})["finally"](function(){a.inprocess=!1}),s.promise},s.prototype.listReports=function(n,r){var a=this,s=t.defer(),l={method:"POST",url:n,headers:{"Content-Type":"text/plain"},data:r};return a.inprocess=!0,a.error="",e(l).success(function(e,n){a.deferredHandler({result:e},s,n)}).error(function(e,n){a.deferredHandler(e,s,n,i.instant("error_listing_reports"))})["finally"](function(){a.inprocess=!1}),s.promise},s.prototype.isAuthenticated=function(n){var r=this,a=t.defer();if(void 0===n||""===n)return a.promise;var s={method:"GET",url:n};return r.inprocess=!0,r.error="",e(s).success(function(e,n){r.deferredHandler({result:e},a,n)}).error(function(e,n){r.deferredHandler(e,a,n,i.instant("error_authenticating_user"))})["finally"](function(){r.inprocess=!1}),a.promise},s}])}(angular,jQuery),function(e){"use strict";e.module("FileManagerApp").service("apiMiddleware",["$window","fileManagerConfig","apiHandler",function(e,n,t){var r=function(){this.apiHandler=new t};return r.prototype.getPath=function(e){return"/"+e.join("/")},r.prototype.getFileList=function(e){return(e||[]).map(function(e){return e&&e.model.fullPath()})},r.prototype.getFilePath=function(e){return e&&e.model.fullPath()},r.prototype.list=function(e,t,r){return this.apiHandler.list(n.listUrl,this.getPath(e),t,r)},r.prototype.copy=function(e,t){var r=this.getFileList(e),i=1===r.length?e[0].tempModel.name:void 0;return this.apiHandler.copy(n.copyUrl,r,this.getPath(t),i)},r.prototype.move=function(e,t){var r=this.getFileList(e);return this.apiHandler.move(n.moveUrl,r,this.getPath(t))},r.prototype.remove=function(e){var t=this.getFileList(e);return this.apiHandler.remove(n.removeUrl,t)},r.prototype.checkBeforeRemove=function(e){var t=this.getFileList(e);return this.apiHandler.checkBeforeRemove(n.checkBeforeRemoveUrl,t)},r.prototype.upload=function(t,r){if(!e.FormData)throw new Error("Unsupported browser version");var i=this.getPath(r);return this.apiHandler.upload(n.uploadUrl,i,t)},r.prototype.getContent=function(e){var t=this.getFilePath(e);return this.apiHandler.getContent(n.getContentUrl,t)},r.prototype.edit=function(e){var t=this.getFilePath(e);return this.apiHandler.edit(n.editUrl,t,e.tempModel.content)},r.prototype.rename=function(e){var t=this.getFilePath(e),r=e.tempModel.fullPath();return this.apiHandler.rename(n.renameUrl,t,r)},r.prototype.getUrl=function(e){var t=this.getFilePath(e);return this.apiHandler.getUrl(n.downloadFileUrl,t)},r.prototype.download=function(e,t){var r=this.getFilePath(e),i=e.model.name,a=e.model.objectId;if(!e.isFolder())return this.apiHandler.download(n.downloadFileUrl,r,i,a,n.downloadFilesByAjax,t)},r.prototype.downloadMultiple=function(e,t){var r=this.getFileList(e),i=(new Date).getTime().toString().substr(8,13),a=i+"-"+n.multipleDownloadFileName;return this.apiHandler.downloadMultiple(n.downloadMultipleUrl,r,a,n.downloadFilesByAjax,t)},r.prototype.compress=function(e,t,r){var i=this.getFileList(e);return this.apiHandler.compress(n.compressUrl,i,t,this.getPath(r))},r.prototype.extract=function(e,t,r){var i=this.getFilePath(e);return this.apiHandler.extract(n.extractUrl,i,t,this.getPath(r))},r.prototype.changePermissions=function(e,t){var r=this.getFileList(e),i=t.tempModel.perms.toCode(),a=t.tempModel.perms.toOctal(),s=!!t.tempModel.recursive;return this.apiHandler.changePermissions(n.permissionsUrl,r,i,a,s)},r.prototype.createFolder=function(e){var t=e.tempModel.fullPath(),r=e.tempModel.maxSectionLength;return this.apiHandler.createFolder(n.createFolderUrl,t,r)},r.prototype.startReportGeneration=function(e){return this.apiHandler.startReportGeneration(n.reportGenerationUrl,e)},r.prototype.cancelReportGeneration=function(e,t){return this.apiHandler.cancelReportGeneration(n.cancelReportGenerationUrl,e,t)},r.prototype.startBatchReportGeneration=function(e){return this.apiHandler.startBatchReportGeneration(n.batchReportGenerationUrl,e);
},r.prototype.listReports=function(e){return this.apiHandler.listReports(n.reportListUrl,e)},r.prototype.isAuthenticated=function(e){return this.apiHandler.isAuthenticated(n.authenticationUrl)},r}])}(angular),function(e){"use strict";e.module("FileManagerApp").service("fileNavigator",["apiMiddleware","fileManagerConfig","item",function(n,t,r){function i(e){if(window.location.href.includes("?backFromReport=")){const n=window.location.href.split("?backFromReport=",2)[1],t=localStorage.getItem(n+"_fileList"),r=localStorage.getItem(n+"_currentPath"),i=localStorage.getItem(n+"_history");null!=t&&null!=r&&null!=i&&(e.fileList=JSON.parse(t),e.currentPath=JSON.parse(r),e.history=JSON.parse(i),a(e.fileList),s(e.history))}}function a(e){e.forEach(function(e,n){this[n]=new r(e.model,e.model.path)},e)}function s(e){e.forEach(function(e){e.hasOwnProperty("item")&&(e.item=new r(e.item.model,e.item.model.path)),e.nodes.length>0&&s(e.nodes)},e)}var l=function(){this.apiMiddleware=new n,this.requesting=!1,this.fileList=[],this.currentPath=[],this.history=[],this.error="",this.onRefresh=function(){},i(this)};return l.prototype.deferredHandler=function(e,n,t,r){return e&&"object"==typeof e||r||(this.error="Error %s - Bridge response error, please check the API docs or this ajax response.".replace("%s",t)),404==t&&(this.error="Error 404 - Backend bridge is not working, please check the ajax response."),e&&e.result&&e.result.error&&(this.error=e.result.error),!this.error&&e&&e.error&&(this.error=e.error.message),!this.error&&r&&(this.error=r),this.error?n.reject(e):n.resolve(e)},l.prototype.list=function(e){return this.apiMiddleware.list(this.currentPath,this.deferredHandler.bind(this),e)},l.prototype.initCurrentPath=function(e){return this.currentPath=e},l.prototype.refresh=function(){var e=this;void 0!==e.currentPath&&void 0!==e.currentPath.length&&0!==e.currentPath.length||(e.currentPath=[]);var n=e.currentPath.join("/");return e.requesting=!0,e.fileList=[],e.list().then(function(t){e.fileList=(t.result||[]).map(function(n){return new r(n,e.currentPath)}),e.buildTree(n),e.onRefresh()})["finally"](function(){e.requesting=!1})},l.prototype.updateStatus=function(){var n=this;n.apiMiddleware.isAuthenticated().then(function(t){if(void 0!==t.result&&void 0!==t.result.userId){void 0!==n.currentPath&&void 0!==n.currentPath.length&&0!==n.currentPath.length||(n.currentPath=[]);var r=(n.currentPath.join("/"),(new Date).getTime()-1e4);return n.list(r).then(function(t){t.result&&t.result.length>0&&e.forEach(t.result,function(t){e.forEach(n.fileList,function(e){e.model.name===t.name&&(e.model.modificationDate=new Date(t.modificationDate),e.model.processingStatus=t.processingStatus)})})})["finally"](function(){})}},function(e){})},l.prototype.buildTree=function(e){function n(e,t,r){var i=r?r+"/"+t.model.name:t.model.name;if(e.name&&e.name.trim()&&0!==r.trim().indexOf(e.name)&&(e.nodes=[]),e.name!==r)e.nodes.forEach(function(e){n(e,t,r)});else{for(var a in e.nodes)if(e.nodes[a].name===i)return;e.nodes.push({item:t,name:i,nodes:[]})}e.nodes=e.nodes.sort(function(e,n){return e.name.toLowerCase()<n.name.toLowerCase()?-1:e.name.toLowerCase()===n.name.toLowerCase()?0:1})}function t(e,n){n.push(e);for(var r in e.nodes)t(e.nodes[r],n)}function i(e,n){return e.filter(function(e){return e.name===n})[0]}var a=[],s={};!this.history.length&&this.history.push({name:"",nodes:[]}),t(this.history[0],a),s=i(a,e),s&&(s.nodes=[]);for(var l in this.fileList){var o=this.fileList[l];o instanceof r&&o.isFolder()&&n(this.history[0],o,e)}},l.prototype.folderClick=function(e){this.currentPath=[],e&&e.isFolder()&&(this.currentPath=e.model.fullPath().split("/").splice(1)),this.refresh()},l.prototype.upDir=function(){this.currentPath[0]&&(this.currentPath=this.currentPath.slice(0,-1),this.refresh())},l.prototype.goTo=function(e){this.currentPath=this.currentPath.slice(0,e+1),this.refresh()},l.prototype.fileNameExists=function(e){return this.fileList.find(function(n){return e.trim&&n.model.name.trim()===e.trim()})},l.prototype.listHasFolders=function(){return this.fileList.find(function(e){return"dir"===e.model.type})},l}])}(angular),function(e){"use strict";var n=e.module("FileManagerApp");n.filter("strLimit",["$filter",function(e){return function(n,t,r){return n.length<=t?n:e("limitTo")(n,t)+(r||"...")}}]),n.filter("fileExtension",["$filter",function(e){return function(n){return/\./.test(n)&&e("strLimit")(n.split(".").pop(),3,"..")||""}}]),n.filter("formatDate",["$filter",function(){return function(e){return e instanceof Date?e.toISOString().substring(0,19).replace("T"," "):(e.toLocaleString||e.toString).apply(e)}}]),n.filter("humanReadableFileSize",["$filter","fileManagerConfig",function(e,n){var t=[" kB"," MB"," GB"," TB","PB","EB","ZB","YB"],r=["KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"];return function(e){var i=-1,a=e;do a/=1024,i++;while(a>1024);var s=n.useBinarySizePrefixes?r[i]:t[i];return Math.max(a,.1).toFixed(1)+" "+s}}])}(angular),angular.module("FileManagerApp").run(["$templateCache",function(e){e.put("src/templates/current-folder-breadcrumb.html",'<ol class="breadcrumb">\r\n    <!--<li>\r\n        <a href="" ng-click="fileNavigator.goTo(-1)">\r\n            {{ config.appName }}\r\n        </a>\r\n    </li>-->\r\n\r\n    <li ng-repeat="(key, dir) in fileNavigator.currentPath track by key" ng-class="{\'active\':$last}" class="animated fast fadeIn">\r\n        <a href="" ng-show="!$last" ng-click="goTo(key)">\r\n            {{ translateDirName(dir) | strLimit : 30}}\r\n        </a>\r\n        <span ng-show="$last">\r\n            {{ translateDirName(dir) }}\r\n        </span>\r\n    </li>\r\n</ol>\r\n'),e.put("src/templates/description.html",'<div ng-cloak class="details">\r\n\r\n  <uib-accordion close-others="false" class="accordion-custom">\r\n    <div uib-accordion-group class="panel-default"\r\n      ng-if="temps[0].model.type === \'file\' && temps[0].model.processingStatus === \'processed\'"\r\n      is-open="isReportOpen">\r\n      <uib-accordion-heading>\r\n        {{ \'report\' | translate }}\r\n      </uib-accordion-heading>\r\n      <div class="text-center">\r\n        <button tabindex="-1" class="btn btn-primary btn-xs" ng-click="modal(\'startreportgeneration\') && prepareReportGeneration()">\r\n          <i class="glyphicon glyphicon-play"></i> {{\'startreportgeneration\' | translate}}\r\n        </button>\r\n      </div>\r\n      <div class="report-data" ng-repeat="report in currentReports | orderBy:\'-startTime\' | limitTo:getReportLimit() track by $index" ng-if="currentReports">\r\n        <div class="row">\r\n          <div class="col-sm-12">\r\n            {{ report.reportName }}\r\n            <span ng-if="report.reportStatus === \'SUCCESS\'" ng-class="getClassForScore(report.overallScore)">{{ report.overallScore * 100 | number:0}}%</span>\r\n          </div>\r\n        </div>\r\n\r\n        <div class="row">\r\n          <div class="col-sm-12">\r\n              <label>{{ \'startTime\' | translate }}</label>\r\n          </div>\r\n          <div class="col-sm-12">\r\n              {{ report.startTime | date:\'yyyy-MM-dd HH:mm:ss\' }}\r\n          </div>\r\n        </div>\r\n\r\n        <div class="row">\r\n          <div class="col-sm-12">\r\n              <label>{{ \'REPORT_STATUS.NAME\' | translate }}</label>\r\n          </div>\r\n          <div class="col-sm-12">\r\n              {{ \'REPORT_STATUS.\' + report.reportStatus | translate }}\r\n          </div>\r\n        </div>\r\n\r\n        <div class="text-center">\r\n          <div ng-show="report.reportStatus === \'CREATED\'" class="cancel-report-generating-button">\r\n            <button ng-disabled="clickedCancelReportButtons.has(report.reportId) || report.starterProfileId != activeUser.userId"\r\n                  tabindex="-1" class="btn btn-default btn-xs" ng-click="cancelReportGeneration(report.reportId, activeUser.userId)">\r\n              <i class="glyphicon glyphicon-stop"></i> {{\'cancelreportgeneration\' | translate}}\r\n            </button>\r\n            <br>\r\n          </div>\r\n          <button tabindex="-1" class="btn btn-default btn-xs" ng-click="openReport(report.reportId)" ng-disabled="report.reportStatus !== \'SUCCESS\'">\r\n            {{\'view_report\' | translate}}\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <div ng-if="currentReports.length > reportLimit && isLimited"><a href="" ng-click="toggleFullReportList()">{{ \'showmorereports\' | translate}}</a></div>\r\n      <div ng-if="currentReports.length > reportLimit && !isLimited"><a href="" ng-click="toggleFullReportList()">{{ \'showlessreports\' | translate}}</a></div>\r\n    </div>\r\n    <div uib-accordion-group class="panel-default accordion-custom"\r\n      is-open="isDescriptionOpen">\r\n      <uib-accordion-heading>\r\n        {{ \'description\' | translate }}\r\n      </uib-accordion-heading>\r\n      <div class="row">\r\n        <div class="col-sm-12">\r\n            <label>{{ \'name\' | translate }}</label>\r\n        </div>\r\n\r\n        <div class="col-sm-12 filename">\r\n            {{ temps.length ? (temps[0].model.name | translate) : "" }}\r\n        </div>\r\n      </div>\r\n\r\n      <div class="row">\r\n        <div class="col-sm-12">\r\n            <label>{{ \'owner\' | translate }}</label>\r\n        </div>\r\n\r\n        <div class="col-sm-12">\r\n            {{ temps.length ? temps[0].model.owner : "" }}\r\n        </div>\r\n      </div>\r\n\r\n      <div class="row">\r\n        <div class="col-sm-12">\r\n            <label>{{ \'size\' | translate }}</label>\r\n        </div>\r\n\r\n        <div class="col-sm-12">\r\n            {{ temps.length ?\r\n              (temps[0].model.size | humanReadableFileSize)  : "" }}\r\n        </div>\r\n\r\n      </div>\r\n\r\n      <div class="row">\r\n        <div class="col-sm-12">\r\n            <label>{{ \'date\' | translate }}</label>\r\n        </div>\r\n\r\n        <div class="col-sm-12">\r\n            {{ temps.length ?\r\n              (temps[0].model.creationDate | date:\'yyyy-MM-dd HH:mm:ss\') : "" }}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </uib-accordion>\r\n</div>\r\n'),e.put("src/templates/item-context-menu.html",'<div id="context-menu" class="dropdown clearfix animated fast fadeIn">\r\n    <ul class="dropdown-menu dropdown-right-click" role="menu" aria-labelledby="dropdownMenu" ng-show="temps.length">\r\n\r\n        <li ng-show="config.allowedActions.reportgeneration && singleSelection() && !singleSelection().isFolder() && singleSelection().model.processingStatus === \'processed\'">\r\n            <a href="" tabindex="-1" ng-click="modal(\'startreportgeneration\')">\r\n                <i class="glyphicon glyphicon-play"></i> {{\'startreportgeneration\' | translate}}\r\n            </a>\r\n        </li>\r\n\r\n        <!-- <li ng-show="config.allowedActions.reportgeneration && !singleSelection() && !selectionHasOtherStatusThan(\'processed\')">\r\n            <a href="" tabindex="-1" ng-click="modal(\'startbatchreportgeneration\')">\r\n                <i class="glyphicon glyphicon-play"></i> {{\'startbatchreportgeneration\' | translate}}\r\n            </a>\r\n        </li> -->\r\n\r\n        <li ng-show="singleSelection() && singleSelection().isFolder()">\r\n            <a href="" tabindex="-1" ng-click="smartClick(singleSelection())">\r\n                <i class="glyphicon glyphicon-folder-open"></i> {{\'open\' | translate}}\r\n            </a>\r\n        </li>\r\n\r\n        <li ng-show="config.pickCallback && singleSelection() && singleSelection().isSelectable()">\r\n            <a href="" tabindex="-1" ng-click="config.pickCallback(singleSelection().model)">\r\n                <i class="glyphicon glyphicon-hand-up"></i> {{\'select_this\' | translate}}\r\n            </a>\r\n        </li>\r\n\r\n        <li ng-show="config.allowedActions.download && !selectionHas(\'dir\') && singleSelection()">\r\n            <a href="" tabindex="-1" ng-click="download()">\r\n                <i class="glyphicon glyphicon-cloud-download"></i> {{\'download\' | translate}}\r\n            </a>\r\n        </li>\r\n\r\n        <!-- <li ng-show="config.allowedActions.downloadMultiple && !selectionHas(\'dir\') && !singleSelection()">\r\n            <a href="" tabindex="-1" ng-click="download()">\r\n                <i class="glyphicon glyphicon-cloud-download"></i> {{\'download_as_zip\' | translate}}\r\n            </a>\r\n        </li> -->\r\n\r\n        <li ng-show="config.allowedActions.preview && singleSelection().isImage() && singleSelection()">\r\n            <a href="" tabindex="-1" ng-click="openImagePreview()">\r\n                <i class="glyphicon glyphicon-picture"></i> {{\'view_item\' | translate}}\r\n            </a>\r\n        </li>\r\n\r\n        <li ng-show="config.allowedActions.rename && singleSelection() && allowActionsWithSingleSelection()">\r\n            <a href="" tabindex="-1" ng-click="modal(\'rename\')">\r\n                <i class="glyphicon glyphicon-edit"></i> {{\'rename\' | translate}}\r\n            </a>\r\n        </li>\r\n\r\n        <li ng-show="config.allowedActions.move && (allowActionsWithSingleSelection() || allowActionsWithMultiSelection())">\r\n            <a href="" tabindex="-1" ng-click="modalWithPathSelector(\'move\')">\r\n                <i class="glyphicon glyphicon-arrow-right"></i> {{\'move\' | translate}}\r\n            </a>\r\n        </li>\r\n\r\n        <li ng-show="config.allowedActions.copy && !selectionHas(\'dir\')">\r\n            <a href="" tabindex="-1" ng-click="modalWithPathSelector(\'copy\')">\r\n                <i class="glyphicon glyphicon-log-out"></i> {{\'copy\' | translate}}\r\n            </a>\r\n        </li>\r\n\r\n        <!-- <li ng-show="config.allowedActions.edit && singleSelection() && singleSelection().isEditable()">\r\n            <a href="" tabindex="-1" ng-click="openEditItem()">\r\n                <i class="glyphicon glyphicon-pencil"></i> {{\'edit\' | translate}}\r\n            </a>\r\n        </li> -->\r\n\r\n        <li ng-show="config.allowedActions.changePermissions">\r\n            <a href="" tabindex="-1" ng-click="modal(\'changepermissions\')">\r\n                <i class="glyphicon glyphicon-lock"></i> {{\'permissions\' | translate}}\r\n            </a>\r\n        </li>\r\n\r\n        <!-- <li ng-show="config.allowedActions.compress && (!singleSelection() || selectionHas(\'dir\'))">\r\n            <a href="" tabindex="-1" ng-click="modal(\'compress\')">\r\n                <i class="glyphicon glyphicon-compressed"></i> {{\'compress\' | translate}}\r\n            </a>\r\n        </li> -->\r\n\r\n        <li ng-show="config.allowedActions.extract && singleSelection() && singleSelection().isExtractable()">\r\n            <a href="" tabindex="-1" ng-click="modal(\'extract\')">\r\n                <i class="glyphicon glyphicon-export"></i> {{\'extract\' | translate}}\r\n            </a>\r\n        </li>\r\n\r\n        <li class="divider" ng-show="config.allowedActions.remove && (allowActionsWithSingleSelection() || allowActionsWithMultiSelection())"></li>\r\n\r\n        <li ng-show="config.allowedActions.remove && (allowActionsWithSingleSelection() || allowActionsWithMultiSelection())">\r\n            <a href="" tabindex="-1" ng-click="modal(\'remove\')">\r\n                <i class="glyphicon glyphicon-trash"></i> {{\'remove\' | translate}}\r\n            </a>\r\n        </li>\r\n\r\n    </ul>\r\n\r\n    <ul class="dropdown-menu dropdown-right-click" role="menu" aria-labelledby="dropdownMenu" ng-show="!temps.length">\r\n        <li ng-show="config.allowedActions.createFolder">\r\n            <a href="" tabindex="-1" ng-click="prepareNewFolder() && modal(\'newfolder\')">\r\n                <i class="glyphicon glyphicon-plus"></i> {{\'new_folder\' | translate}}\r\n            </a>\r\n        </li>\r\n        <li ng-show="config.allowedActions.upload">\r\n            <a href="" tabindex="-1" ng-click="modal(\'uploadfile\')">\r\n                <i class="glyphicon glyphicon-cloud-upload"></i> {{\'upload_files\' | translate}}\r\n            </a>\r\n        </li>\r\n    </ul>\r\n</div>\r\n'),e.put("src/templates/main-icons.html",'<div class="iconset noselect">\r\n    <div class="item-list clearfix" ng-click="selectOrUnselect(null, $event)" ng-right-click="selectOrUnselect(null, $event)" prevent="true">\r\n        <div class="col-120" ng-repeat="item in $parent.fileList = (fileNavigator.fileList | filter: {model:{name: query}}) track by $index" ng-show="!fileNavigator.requesting && !fileNavigator.error">\r\n            <a href="" class="thumbnail text-center" ng-click="selectOrUnselect(item, $event)" ng-dblclick="smartClick(item)" ng-right-click="selectOrUnselect(item, $event)" title="{{item.model.name}} ({{item.model.size | humanReadableFileSize}})" ng-class="{selected: isSelected(item)}">\r\n                <div class="item-icon">\r\n                    <i class="glyphicon glyphicon-folder-open" ng-show="item.model.type === \'dir\'"></i>\r\n                    <i class="glyphicon glyphicon-file" data-ext="{{ item.model.name | fileExtension }}" ng-show="item.model.type === \'file\'" ng-class="{\'item-extension\': config.showExtensionIcons}"></i>\r\n                </div>\r\n                {{item.model.name | translate | strLimit : 11 }}\r\n            </a>\r\n        </div>\r\n    </div>\r\n\r\n    <div ng-show="fileNavigator.requesting">\r\n        <div ng-include="config.tplPath + \'/spinner.html\'"></div>\r\n    </div>\r\n\r\n    <div class="alert alert-warning" ng-show="!fileNavigator.requesting && fileNavigator.fileList.length < 1 && !fileNavigator.error">\r\n        {{"no_files_in_folder" | translate}}\r\n    </div>\r\n\r\n    <div class="alert alert-danger" ng-show="!fileNavigator.requesting && fileNavigator.error">\r\n        {{ fileNavigator.error }}\r\n    </div>\r\n</div>\r\n'),e.put("src/templates/main-table-modal.html",'<table class="table table-condensed table-modal-condensed mb0">\r\n    <thead>\r\n        <tr>\r\n            <th>\r\n                <a href="" ng-click="order(\'model.name\')">\r\n                    {{"name" | translate}}\r\n                    <span class="sortorder" ng-show="predicate[1] === \'model.name\'" ng-class="{reverse:reverse}"></span>\r\n                </a>\r\n            </th>\r\n            <th class="text-right"></th>\r\n        </tr>\r\n    </thead>\r\n    <tbody class="file-item">\r\n        <tr ng-show="fileNavigator.requesting">\r\n            <td colspan="2">\r\n                <div ng-include="config.tplPath + \'/spinner.html\'"></div>\r\n            </td>\r\n        </tr>\r\n        <tr ng-show="!fileNavigator.requesting && !fileNavigator.listHasFolders() && !fileNavigator.error">\r\n            <td>\r\n                {{"no_folders_in_folder" | translate}}...\r\n            </td>\r\n            <!--<td class="text-right">\r\n                <button class="btn btn-sm btn-default" ng-click="fileNavigator.upDir()">{{"go_back" | translate}}</button>\r\n            </td>-->\r\n        </tr>\r\n        <tr ng-show="!fileNavigator.requesting && fileNavigator.error">\r\n            <td colspan="2">\r\n                {{ fileNavigator.error }}\r\n            </td>\r\n        </tr>\r\n        <tr ng-repeat="item in fileNavigator.fileList | orderBy:predicate:reverse track by $index" ng-show="!fileNavigator.requesting && item.model.type === \'dir\'" ng-if="!selectedFilesAreChildOfPath(item)">\r\n            \r\n            <td>\r\n                <input type="checkbox"\r\n                  value="{{item.model.name}}"\r\n                  ng-checked="isChecked(item)"\r\n                  ng-click="toggleSelection(item)" />\r\n\r\n                <a href="" ng-click="fileNavigator.folderClick(item)" title="{{item.model.name}} ({{item.model.size | humanReadableFileSize}})">\r\n                    <i class="glyphicon glyphicon-folder-close"></i>\r\n                    {{item.model.nameVariables && item.model.nameVariables.organizationName ? item.model.nameVariables.organizationName : item.model.name | translate | strLimit : 32}}\r\n                    <!--{{ translateDirName(item.model.name) }}-->\r\n                </a>\r\n                <i uib-tooltip="{{\'different_section_length\' | translate}}: {{item.model.maxSectionLength}}" ng-if="item.model.maxSectionLength !== currentFolder.sectionLength" class="fa fa-exclamation-circle" aria-hidden="true" style="color:#f36621"></i>\r\n            </td>\r\n            <!--<td class="text-right">\r\n                \r\n                <button class="btn btn-sm btn-default" ng-click="select(item)">\r\n                    <i class="glyphicon glyphicon-hand-up"></i> {{"select_this" | translate}}\r\n                </button>\r\n            </td>-->\r\n        </tr>\r\n    </tbody>\r\n</table>\r\n'),e.put("src/templates/main-table.html",'<table class="table mb0 table-files noselect">\r\n    <thead>\r\n        <tr>\r\n            <th>\r\n                <a href="" ng-click="order(\'model.name\')">\r\n                    {{"name" | translate}}\r\n                    <span class="sortorder" ng-show="predicate[1] === \'model.name\'" ng-class="{reverse:reverse}"></span>\r\n                </a>\r\n            </th>\r\n            <th class="hidden-xs" ng-hide="config.hideSize">\r\n                <a href="" ng-click="order(\'model.size\')">\r\n                    {{"size" | translate}}\r\n                    <span class="sortorder" ng-show="predicate[1] === \'model.size\'" ng-class="{reverse:reverse}"></span>\r\n                </a>\r\n            </th>\r\n            <th class="hidden-sm hidden-xs" ng-hide="config.hideDate">\r\n                <a href="" ng-click="order(\'model.\' + dateType)">\r\n                    {{"date" | translate}}\r\n                    <span class="sortorder" ng-show="predicate[1] === \'model.\' + dateType" ng-class="{reverse:reverse}"></span>\r\n                </a>\r\n                <select class="date-table-header" ng-model="dateType" ng-init="dateType = \'creationDate\'" required>\r\n                    <option value="creationDate">{{\'creationDate\' | translate}}</option>\r\n                    <option value="modificationDate">{{\'modificationDate\' | translate}}</option>\r\n                </select>\r\n            </th>\r\n            <th class="hidden-sm hidden-xs" ng-hide="config.hidePermissions">\r\n                <a href="" ng-click="order(\'model.permissions\')">\r\n                    {{"permissions" | translate}}\r\n                    <span class="sortorder" ng-show="predicate[1] === \'model.permissions\'" ng-class="{reverse:reverse}"></span>\r\n                </a>\r\n            </th>\r\n            <th class="hidden-sm hidden-xs" ng-hide="config.hideProcessingStatus">\r\n\t            <a href="" ng-click="order(\'model.processingStatus\')">\r\n                    {{"processingStatus" | translate}}\r\n                    <span class="sortorder" ng-show="predicate[1] === \'model.processingStatus\'" ng-class="{reverse:reverse}"></span>\r\n                </a>\r\n            </th>\r\n            <th class="hidden-sm hidden-xs" ng-hide="config.hideOwner || shouldDescriptionBeOpen()">\r\n\t            <a href="" ng-click="order(\'model.owner\')">\r\n                    {{"owner" | translate}}\r\n                    <span class="sortorder" ng-show="predicate[1] === \'model.owner\'" ng-class="{reverse:reverse}"></span>\r\n                </a>\r\n            </th>\r\n\r\n            <th class="hidden-xs" ng-hide="config.hideMaxSectionLength">\r\n                <a href="" ng-click="order(\'model.maxSectionLength\')">\r\n                    {{"max_section_length" | translate}}\r\n                    <span class="sortorder" ng-show="predicate[1] === \'model.maxSectionLength\'" ng-class="{reverse:reverse}"></span>\r\n                </a>\r\n            </th>\r\n\r\n        </tr>\r\n    </thead>\r\n    <tbody class="file-item">\r\n        <tr ng-show="fileNavigator.requesting">\r\n            <td colspan="5">\r\n                <div ng-include="config.tplPath + \'/spinner.html\'"></div>\r\n            </td>\r\n        </tr>\r\n        <tr ng-show="!fileNavigator.requesting &amp;&amp; fileNavigator.fileList.length < 1 &amp;&amp; !fileNavigator.error">\r\n            <td colspan="5">\r\n                {{"no_files_in_folder" | translate}}\r\n            </td>\r\n        </tr>\r\n        <tr ng-show="!fileNavigator.requesting &amp;&amp; fileNavigator.error">\r\n            <td colspan="5">\r\n                {{ fileNavigator.error }}\r\n            </td>\r\n        </tr>\r\n        <tr class="item-list" ng-repeat="item in $parent.fileList = (fileNavigator.fileList | filter: {model:{name: query}} | orderBy:predicate:reverse) track by $index" ng-if="item.model.showAlways == true" ng-show="!fileNavigator.requesting" ng-click="selectOrUnselect(item, $event)" ng-dblclick="smartClick(item)" ng-right-click="selectOrUnselect(item, $event)" ng-class="{selected: isSelected(item)}">\r\n            <td>\r\n                <a href="" title="{{item.model.name}} ({{item.model.size | humanReadableFileSize}})">\r\n                    <i class="glyphicon glyphicon-folder-close" ng-show="item.model.type === \'dir\'"></i>\r\n                    <i class="glyphicon glyphicon-file" ng-show="item.model.type === \'file\'"></i>\r\n                    {{ translateItem(item) | translate | strLimit : 64}}\r\n                </a>\r\n            </td>\r\n            <td class="hidden-xs">\r\n                <span ng-show="item.model.type !== \'dir\' || (config.showSizeForDirectories && !config.hideSize)">\r\n                    {{item.model.size | humanReadableFileSize}}\r\n                </span>\r\n            </td>\r\n            <td class="hidden-sm hidden-xs" ng-hide="config.hideDate">\r\n                {{item.model[dateType] | date:\'yyyy-MM-dd HH:mm:ss\'}}\r\n            </td>\r\n            <td class="hidden-sm hidden-xs" ng-hide="config.hidePermissions">\r\n                {{item.model.perms.toCode(item.model.type === \'dir\'?\'d\':\'-\')}}\r\n            </td>\r\n            <td class="hidden-sm hidden-xs" ng-hide="config.hideProcessingStatus">\r\n                {{item.model.processingStatus | translate}}\r\n            </td>\r\n            <td class="hidden-sm hidden-xs" ng-hide="config.hideOwner || shouldDescriptionBeOpen()">\r\n                {{item.model.owner}}\r\n            </td>\r\n            <td class="hidden-xs">\r\n                <span ng-show="!config.hideMaxSectionLength">\r\n                    {{item.model.maxSectionLength}}\r\n                </span>\r\n            </td>\r\n        </tr>\r\n    </tbody>\r\n</table>\r\n'),e.put("src/templates/main.html",'<div ng-controller="FileManagerCtrl" ngf-drop="addForUpload($files)" ngf-drag-over-class="\'upload-dragover\'" ngf-multiple="true">\r\n    <div ng-include="config.tplPath + \'/navbar.html\'"></div>\r\n\r\n    <div class="container-fluid">\r\n        <div class="row">\r\n\r\n            <div class="hidden-xs col-sm-4 col-md-2 sidebar file-tree animated slow fadeIn" ng-include="config.tplPath + \'/sidebar.html\'"\r\n              ng-show="config.sidebar &amp;&amp; fileNavigator.history[0]">\r\n            </div>\r\n\r\n            <div class="main" ng-class="[{\'col-sm-8 col-md-8\' : (config.sidebar &amp;&amp; fileNavigator.history[0] &amp;&amp; shouldDescriptionBeOpen())},\r\n            {\'col-sm-8 col-md-10\' : (config.sidebar &amp;&amp; fileNavigator.history[0] &amp;&amp; !shouldDescriptionBeOpen())}]">\r\n                <div ng-include="config.tplPath + \'/\' + viewTemplate" class="main-navigation clearfix"></div>\r\n            </div>\r\n\r\n            <div class="description hidden-xs hidden-sm col-md-2" ng-if="shouldDescriptionBeOpen()">\r\n                <div ng-include="config.tplPath + \'/description.html\'" class="main-navigation clearfix"></div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div ng-include="config.tplPath + \'/modals.html\'"></div>\r\n    <div ng-include="config.tplPath + \'/item-context-menu.html\'"></div>\r\n</div>\r\n'),e.put("src/templates/modals.html",'<div class="modal animated fadeIn" id="imagepreview">\n  <div class="modal-dialog">\n    <div class="modal-content">\n      <div class="modal-header">\n        <button type="button" class="close" data-dismiss="modal">\n            <span aria-hidden="true">&times;</span>\n            <span class="sr-only">{{"close" | translate}}</span>\n        </button>\n        <h4 class="modal-title">{{"preview" | translate}}</h4>\n      </div>\n      <div class="modal-body">\n        <div class="text-center">\n          <img id="imagepreview-target" class="preview" alt="{{singleSelection().model.name}}" ng-class="{\'loading\': apiMiddleware.apiHandler.inprocess}">\n          <span class="label label-warning" ng-show="apiMiddleware.apiHandler.inprocess">{{\'loading\' | translate}} ...</span>\n        </div>\n        <div ng-include data-src="\'error-bar\'" class="clearfix"></div>\n      </div>\n      <div class="modal-footer text-center">\n        <button type="button" class="btn btn-default btn-xs" data-dismiss="modal" ng-disabled="apiMiddleware.apiHandler.inprocess">{{"close" | translate}}</button>\n      </div>\n    </div>\n  </div>\n</div>\n\n<div class="modal animated fadeIn" id="startreportgeneration">\n  <div class="modal-dialog">\n    <div class="modal-content">\n      <div class="modal-header">\n        <button type="button" class="close" data-dismiss="modal">\n          <span ng-click="closeReportModal()" aria-hidden="true">&times;</span>\n          <span class="sr-only">{{"close" | translate}}</span>\n        </button>\n        <h4 class="modal-title">{{"REPORT_GENERATION_MODAL.TITLE" | translate}}</h4>\n      </div>\n      <form name="reportForm" id="reportForm" ng-submit="startReportGeneration(report)" novalidate>\n        <div class="modal-body">\n\n          {{\'REPORT_GENERATION_MODAL.REPORT_NAME\' | translate}}\n          <input class="col-md-12" name="reportTitle" type="text" ng-model="report.reportName" required/>\n          <label name="target" class="col-md-12" >{{\'REPORT_GENERATION_MODAL.REPORT_TARGET\' | translate}}</label>\n\n          <label class="col-xs-12">\n            <input type="checkbox" ng-model="report.reportSettings.myFiles"/>\n            {{\'REPORT_GENERATION_MODAL.MY_FILES\' | translate}}\n            <a href="" ng-if="report.reportSettings.myFiles === true" class="label label-primary" ng-click="openNavigator([\'user\'])">\n              {{\'change\' | translate}}\n            </a>\n          </label>\n          <label class="col-xs-12">\n            <input type="checkbox" ng-model="report.reportSettings.institutionFiles"/>\n            {{\'REPORT_GENERATION_MODAL.INSTITUTION_FILES\' | translate}}\n            <a href="" ng-if="report.reportSettings.institutionFiles === true" class="label label-primary" ng-click="openNavigator([\'organizations\'])">\n              {{\'change\' | translate}}\n            </a>\n          </label>\n          <label class="col-xs-12">\n            <input type="checkbox" ng-model="report.reportSettings.webResources"/>\n            {{\'REPORT_GENERATION_MODAL.WEB_RESOURCES\' | translate}}\n            <a href="" class="label label-primary" ng-click="openNavigator([\'web\'])">\n              {{\'change\' | translate}}\n            </a>\n          </label>\n\n          <div ng-include data-src="\'error-bar\'" class="clearfix"></div>\n        </div>\n        <div class="modal-footer text-center">\n          <button class="btn btn-default btn-xs" ng-click="closeReportModal()" type="button" data-dismiss="modal">{{"close" | translate}}</button>\n          <button class="btn btn-primary btn-xs" type="submit">{{"REPORT_GENERATION_MODAL.START_GENERATION" | translate}}</button>\n        </div>\n      </form>\n    </div>\n  </div>\n</div>\n\n<div class="modal animated fadeIn" id="startbatchreportgeneration">\n  <div class="modal-dialog">\n    <div class="modal-content">\n      <div class="modal-header">\n        <button type="button" class="close" data-dismiss="modal">\n          <span aria-hidden="true">&times;</span>\n          <span class="sr-only">{{"close" | translate}}</span>\n        </button>\n        <h4 class="modal-title">{{"REPORT_GENERATION_MODAL.BATCH_TITLE" | translate}}</h4>\n      </div>\n      <form name="reportForm" id="reportForm" ng-submit="startBatchReportGeneration(report)" novalidate>\n        <div class="modal-body">\n\n          <span ng-include data-src="\'selected-files-msg\'"></span>\n\n          <label name="target" class="col-md-12" >{{\'REPORT_GENERATION_MODAL.REPORT_TARGET\' | translate}}</label>\n\n          <label class="col-xs-12">\n            <input type="checkbox" ng-model="report.reportSettings.myFiles"/>\n            {{\'REPORT_GENERATION_MODAL.MY_FILES\' | translate}}\n          </label>\n          <label class="col-xs-12">\n            <input type="checkbox" ng-model="report.reportSettings.institutionFiles"/>\n            {{\'REPORT_GENERATION_MODAL.INSTITUTION_FILES\' | translate}}\n          </label>\n          <label class="col-xs-12">\n            <input type="checkbox" ng-model="report.reportSettings.webResources"/>\n            {{\'REPORT_GENERATION_MODAL.WEB_RESOURCES\' | translate}}\n          </label>\n\n          <div ng-include data-src="\'error-bar\'" class="clearfix"></div>\n        </div>\n        <div class="modal-footer text-center">\n          <button class="btn btn-default btn-xs" type="button" data-dismiss="modal">{{"close" | translate}}</button>\n          <button class="btn btn-primary btn-xs" type="submit">{{"REPORT_GENERATION_MODAL.START_GENERATION" | translate}}</button>\n        </div>\n      </form>\n    </div>\n  </div>\n</div>\n\n<div class="modal animated fadeIn" id="remove">\n  <div class="modal-dialog">\n    <div class="modal-content">\n    <form ng-submit="remove()">\n      <div class="modal-header">\n        <button type="button" class="close" data-dismiss="modal">\n            <span aria-hidden="true">&times;</span>\n            <span class="sr-only">{{"close" | translate}}</span>\n        </button>\n        <h4 class="modal-title">{{"confirm" | translate}}</h4>\n      </div>\n      <div class="modal-body">\n        {{\'sure_to_delete\' | translate}}\n        {{\'affected_files_and_reports\' | translate:removePreviewResult }}\n        <br/><span ng-include data-src="\'selected-files-msg\'"></span>\n\n        <div ng-include data-src="\'error-bar\'" class="clearfix"></div>\n      </div>\n      <div class="modal-footer text-center">\n        <button type="button" class="btn btn-default btn-xs" data-dismiss="modal" ng-disabled="apiMiddleware.apiHandler.inprocess">{{"cancel" | translate}}</button>\n        <button type="submit" class="btn btn-primary btn-xs" ng-disabled="apiMiddleware.apiHandler.inprocess" autofocus="autofocus">{{"remove" | translate}}</button>\n      </div>\n      </form>\n    </div>\n  </div>\n</div>\n\n<div class="modal animated fadeIn" id="move">\n  <div class="modal-dialog">\n    <div class="modal-content">\n        <form ng-submit="move()">\n            <div class="modal-header">\n              <button type="button" class="close" data-dismiss="modal">\n                  <span aria-hidden="true">&times;</span>\n                  <span class="sr-only">{{"close" | translate}}</span>\n              </button>\n              <h4 class="modal-title">{{\'move\' | translate}}</h4>\n            </div>\n            <div class="modal-body">\n              <div ng-include data-src="\'path-selector\'" class="clearfix"></div>\n              <div ng-include data-src="\'error-bar\'" class="clearfix"></div>\n            </div>\n            <div class="modal-footer text-center">\n              <button type="button" class="btn btn-default btn-xs" data-dismiss="modal" ng-disabled="apiMiddleware.apiHandler.inprocess">{{"cancel" | translate}}</button>\n              <button type="submit" class="btn btn-primary btn-xs" ng-disabled="apiMiddleware.apiHandler.inprocess">{{\'move\' | translate}}</button>\n            </div>\n        </form>\n    </div>\n  </div>\n</div>\n\n\n<div class="modal animated fadeIn" id="rename">\n  <div class="modal-dialog">\n    <div class="modal-content">\n        <form ng-submit="rename()">\n            <div class="modal-header">\n              <button type="button" class="close" data-dismiss="modal">\n                  <span aria-hidden="true">&times;</span>\n                  <span class="sr-only">{{"close" | translate}}</span>\n              </button>\n              <h4 class="modal-title">{{\'rename\' | translate}}</h4>\n            </div>\n            <div class="modal-body">\n              <label class="radio">{{\'enter_new_name_for\' | translate}} <b>{{singleSelection() && singleSelection().model.name}}</b></label>\n              <input class="form-control" ng-model="singleSelection().tempModel.name" autofocus="autofocus">\n\n              <div ng-include data-src="\'error-bar\'" class="clearfix"></div>\n            </div>\n            <div class="modal-footer text-center">\n              <button type="button" class="btn btn-default btn-xs" data-dismiss="modal" ng-disabled="apiMiddleware.apiHandler.inprocess">{{"cancel" | translate}}</button>\n              <button type="submit" class="btn btn-primary btn-xs" ng-disabled="apiMiddleware.apiHandler.inprocess">{{\'rename\' | translate}}</button>\n            </div>\n        </form>\n    </div>\n  </div>\n</div>\n\n<div class="modal animated fadeIn" id="copy">\n  <div class="modal-dialog">\n    <div class="modal-content">\n        <form ng-submit="copy()">\n            <div class="modal-header">\n              <button type="button" class="close" data-dismiss="modal">\n                  <span aria-hidden="true">&times;</span>\n                  <span class="sr-only">{{"close" | translate}}</span>\n              </button>\n              <h4 class="modal-title">{{\'copy_file\' | translate}}</h4>\n            </div>\n            <div class="modal-body">\n              <div ng-show="singleSelection()">\n                <label class="radio">{{\'enter_new_name_for\' | translate}} <b>{{singleSelection().model.name}}</b></label>\n                <input class="form-control" ng-model="singleSelection().tempModel.name" autofocus="autofocus">\n              </div>\n\n              <div ng-include data-src="\'path-selector\'" class="clearfix"></div>\n              <div ng-include data-src="\'error-bar\'" class="clearfix"></div>\n            </div>\n            <div class="modal-footer text-center">\n              <button type="button" class="btn btn-default btn-xs" data-dismiss="modal" ng-disabled="apiMiddleware.apiHandler.inprocess">{{"cancel" | translate}}</button>\n              <button type="submit" class="btn btn-primary btn-xs" ng-disabled="apiMiddleware.apiHandler.inprocess">{{"copy" | translate}}</button>\n            </div>\n        </form>\n    </div>\n  </div>\n</div>\n\n<div class="modal animated fadeIn" id="compress">\n  <div class="modal-dialog">\n    <div class="modal-content">\n        <form ng-submit="compress()">\n            <div class="modal-header">\n              <button type="button" class="close" data-dismiss="modal">\n                  <span aria-hidden="true">&times;</span>\n                  <span class="sr-only">{{"close" | translate}}</span>\n              </button>\n              <h4 class="modal-title">{{\'compress\' | translate}}</h4>\n            </div>\n            <div class="modal-body">\n              <div ng-show="apiMiddleware.apiHandler.asyncSuccess">\n                  <div class="label label-success error-msg">{{\'compression_started\' | translate}}</div>\n              </div>\n              <div ng-hide="apiMiddleware.apiHandler.asyncSuccess">\n                  <div ng-hide="config.allowedActions.compressChooseName">\n                    {{\'sure_to_start_compression_with\' | translate}} <b>{{singleSelection().model.name | translate}}</b> ?\n                  </div>\n                  <div ng-show="config.allowedActions.compressChooseName">\n                    <label class="radio">\n                      {{\'enter_file_name_for_compression\' | translate}}\n                      <span ng-include data-src="\'selected-files-msg\'"></span>\n                    </label>\n                    <input class="form-control" ng-model="temp.tempModel.name" autofocus="autofocus">\n                  </div>\n              </div>\n\n              <div ng-include data-src="\'error-bar\'" class="clearfix"></div>\n            </div>\n            <div class="modal-footer text-center">\n              <div ng-show="apiMiddleware.apiHandler.asyncSuccess">\n                  <button type="button" class="btn btn-default btn-xs" data-dismiss="modal" ng-disabled="apiMiddleware.apiHandler.inprocess">{{"close" | translate}}</button>\n              </div>\n              <div ng-hide="apiMiddleware.apiHandler.asyncSuccess">\n                  <button type="button" class="btn btn-default btn-xs" data-dismiss="modal" ng-disabled="apiMiddleware.apiHandler.inprocess">{{"cancel" | translate}}</button>\n                  <button type="submit" class="btn btn-primary btn-xs" ng-disabled="apiMiddleware.apiHandler.inprocess">{{\'compress\' | translate}}</button>\n              </div>\n            </div>\n        </form>\n    </div>\n  </div>\n</div>\n\n<div class="modal animated fadeIn" id="extract" ng-init="singleSelection().emptyName()">\n  <div class="modal-dialog">\n    <div class="modal-content">\n        <form ng-submit="extract()">\n            <div class="modal-header">\n              <button type="button" class="close" data-dismiss="modal">\n                  <span aria-hidden="true">&times;</span>\n                  <span class="sr-only">{{"close" | translate}}</span>\n              </button>\n              <h4 class="modal-title">{{\'extract_item\' | translate}}</h4>\n            </div>\n            <div class="modal-body">\n              <div ng-show="apiMiddleware.apiHandler.asyncSuccess">\n                  <div class="label label-success error-msg">{{\'extraction_started\' | translate}}</div>\n              </div>\n              <div ng-hide="apiMiddleware.apiHandler.asyncSuccess">\n                  <label class="radio">{{\'enter_folder_name_for_extraction\' | translate}} <b>{{singleSelection().model.name | translate}}</b></label>\n                  <input class="form-control" ng-model="singleSelection().tempModel.name" autofocus="autofocus">\n              </div>\n              <div ng-include data-src="\'error-bar\'" class="clearfix"></div>\n            </div>\n            <div class="modal-footer text-center">\n              <div ng-show="apiMiddleware.apiHandler.asyncSuccess">\n                  <button type="button" class="btn btn-default btn-xs" data-dismiss="modal" ng-disabled="apiMiddleware.apiHandler.inprocess">{{"close" | translate}}</button>\n              </div>\n              <div ng-hide="apiMiddleware.apiHandler.asyncSuccess">\n                  <button type="button" class="btn btn-default btn-xs" data-dismiss="modal" ng-disabled="apiMiddleware.apiHandler.inprocess">{{"cancel" | translate}}</button>\n                  <button type="submit" class="btn btn-primary btn-xs" ng-disabled="apiMiddleware.apiHandler.inprocess">{{\'extract\' | translate}}</button>\n              </div>\n            </div>\n        </form>\n    </div>\n  </div>\n</div>\n\n<div class="modal animated fadeIn" id="edit" ng-class="{\'modal-fullscreen\': fullscreen}">\n  <div class="modal-dialog modal-lg">\n    <div class="modal-content">\n        <form ng-submit="edit()">\n            <div class="modal-header">\n              <button type="button" class="close" data-dismiss="modal">\n                  <span aria-hidden="true">&times;</span>\n                  <span class="sr-only">{{"close" | translate}}</span>\n              </button>\n              <button type="button" class="close fullscreen" ng-click="fullscreen=!fullscreen">\n                  <i class="glyphicon glyphicon-fullscreen"></i>\n                  <span class="sr-only">{{\'toggle_fullscreen\' | translate}}</span>\n              </button>\n              <h4 class="modal-title">{{\'edit_file\' | translate}}</h4>\n            </div>\n            <div class="modal-body">\n                <label class="radio bold">{{ singleSelection().model.fullPath() }}</label>\n                <span class="label label-warning" ng-show="apiMiddleware.apiHandler.inprocess">{{\'loading\' | translate}} ...</span>\n                <textarea class="form-control code" ng-model="singleSelection().tempModel.content" ng-show="!apiMiddleware.apiHandler.inprocess" autofocus="autofocus"></textarea>\n                <div ng-include data-src="\'error-bar\'" class="clearfix"></div>\n            </div>\n            <div class="modal-footer text-center">\n              <button type="button" class="btn btn-default btn-xs" data-dismiss="modal" ng-disabled="apiMiddleware.apiHandler.inprocess">{{\'close\' | translate}}</button>\n              <button type="submit" class="btn btn-primary btn-xs" ng-show="config.allowedActions.edit" ng-disabled="apiMiddleware.apiHandler.inprocess">{{\'edit\' | translate}}</button>\n            </div>\n        </form>\n    </div>\n  </div>\n</div>\n\n<div class="modal animated fadeIn" id="newfolder">\n  <div class="modal-dialog">\n    <div class="modal-content">\n        <form ng-submit="createFolder(currentFolder.sectionLength)">\n            <div class="modal-header">\n              <button type="button" class="close" data-dismiss="modal">\n                  <span aria-hidden="true">&times;</span>\n                  <span class="sr-only">{{"close" | translate}}</span>\n              </button>\n              <h4 class="modal-title">{{\'new_folder\' | translate}}</h4>\n            </div>\n            <div class="modal-body">\n              <div class="col-md-9">\n                <label class="radio">{{\'folder_name\' | translate}}</label>\n                <input class="form-control" ng-model="temps[0].tempModel.name" autofocus="autofocus">\n              </div>\n              <div class="col-md-3">\n                <label class="radio">{{\'max_section_length\' | translate}}</label>\n                <input class="form-control" ng-model="currentFolder.sectionLength" ng-disabled="(fileNavigator.currentPath[0] === \'user\' && fileNavigator.currentPath.length > 1) || (fileNavigator.currentPath[0] === \'organizations\' && fileNavigator.currentPath.length > 2)">\n              </div>\n\n              <div ng-include data-src="\'error-bar\'" class="clearfix"></div>\n            </div>\n            <div class="modal-footer text-center">\n              <button type="button" class="btn btn-default btn-xs" data-dismiss="modal" ng-disabled="apiMiddleware.apiHandler.inprocess">{{"cancel" | translate}}</button>\n              <button type="submit" class="btn btn-primary btn-xs" ng-disabled="apiMiddleware.apiHandler.inprocess">{{\'create\' | translate}}</button>\n            </div>\n        </form>\n    </div>\n  </div>\n</div>\n\n<div class="modal animated fadeIn" id="uploadfile">\n  <div class="modal-dialog">\n    <div class="modal-content">\n        <form ng-submit="uploadFiles()">\n            <div class="modal-header">\n              <button type="button" class="close" ng-click="emptyList()">\n                  <span aria-hidden="true">&times;</span>\n                  <span class="sr-only">{{"close" | translate}}</span>\n              </button>\n              <h4 class="modal-title">{{"upload_files" | translate}}</h4>\n            </div>\n            <div class="modal-body">\n              <label class="radio">\n                {{"files_will_uploaded_to" | translate}}\n                <b><span ng-repeat="var in fileNavigator.currentPath track by $index">/{{var | translate}}</span></b>\n              </label>\n              <button class="btn btn-default btn-block btn-xs" ngf-select="$parent.addForUpload($files)" ngf-multiple="true">\n                {{"select_files" | translate}}\n              </button>\n\n              <div class="upload-list">\n                <ul class="list-group">\n                  <li class="list-group-item" ng-repeat="(index, uploadFile) in $parent.uploadFileList track by index">\n                    <button class="btn btn-sm btn-danger pull-right" ng-click="$parent.removeFromUpload(index)">\n                        &times;\n                    </button>\n                    <h5 class="list-group-item-heading">{{uploadFile.name}}</h5>\n                    <p class="list-group-item-text">{{uploadFile.size | humanReadableFileSize}}</p>\n                  </li>\n                </ul>\n                <div ng-show="apiMiddleware.apiHandler.inprocess">\n                  <em>{{"uploading" | translate}}... {{apiMiddleware.apiHandler.progress}}%</em>\n                  <div class="progress mb0">\n                    <div class="progress-bar active" role="progressbar" aria-valuenow="{{apiMiddleware.apiHandler.progress}}" aria-valuemin="0" aria-valuemax="100" style="width: {{apiMiddleware.apiHandler.progress}}%"></div>\n                  </div>\n                </div>\n              </div>\n              <div ng-include data-src="\'error-bar\'" class="clearfix"></div>\n            </div>\n            <div class="modal-footer text-center">\n              <div>\n                  <button type="button" class="btn btn-default btn-xs" ng-click="emptyList()">{{"cancel" | translate}}</button>\n                  <button type="submit" class="btn btn-primary btn-xs" ng-disabled="!$parent.uploadFileList.length || apiMiddleware.apiHandler.inprocess">{{\'upload\' | translate}}</button>\n              </div>\n            </div>\n        </form>\n    </div>\n  </div>\n</div>\n\n<div class="modal animated fadeIn" id="changepermissions">\n  <div class="modal-dialog">\n    <div class="modal-content">\n        <form ng-submit="changePermissions()">\n            <div class="modal-header">\n              <button type="button" class="close" data-dismiss="modal">\n                  <span aria-hidden="true">&times;</span>\n                  <span class="sr-only">{{"close" | translate}}</span>\n              </button>\n              <h4 class="modal-title">{{\'change_permissions\' | translate}}</h4>\n            </div>\n            <div class="modal-body">\n              <table class="table mb0">\n                  <thead>\n                      <tr>\n                          <th>{{\'permissions\' | translate}}</th>\n                          <th class="col-xs-1 text-center">{{\'read\' | translate}}</th>\n                          <th class="col-xs-1 text-center">{{\'write\' | translate}}</th>\n                          <th class="col-xs-1 text-center">{{\'exec\' | translate}}</th>\n                      </tr>\n                  </thead>\n                  <tbody>\n                      <tr ng-repeat="(permTypeKey, permTypeValue) in temp.tempModel.perms track by permTypeKey">\n                          <td>{{permTypeKey | translate}}</td>\n                          <td ng-repeat="(permKey, permValue) in permTypeValue track by permKey" class="col-xs-1 text-center" ng-click="main()">\n                              <label class="col-xs-12">\n                                <input type="checkbox" ng-model="temp.tempModel.perms[permTypeKey][permKey]">\n                              </label>\n                          </td>\n                      </tr>\n                </tbody>\n              </table>\n              <div class="checkbox" ng-show="config.enablePermissionsRecursive && selectionHas(\'dir\')">\n                <label>\n                  <input type="checkbox" ng-model="temp.tempModel.recursive"> {{\'recursive\' | translate}}\n                </label>\n              </div>\n              <div class="clearfix mt10">\n                  <span class="label label-primary pull-left" ng-hide="temp.multiple">\n                    {{\'original\' | translate}}:\n                    {{temp.model.perms.toCode(selectionHas(\'dir\') ? \'d\':\'-\')}}\n                    ({{temp.model.perms.toOctal()}})\n                  </span>\n                  <span class="label label-primary pull-right">\n                    {{\'changes\' | translate}}:\n                    {{temp.tempModel.perms.toCode(selectionHas(\'dir\') ? \'d\':\'-\')}}\n                    ({{temp.tempModel.perms.toOctal()}})\n                  </span>\n              </div>\n              <div ng-include data-src="\'error-bar\'" class="clearfix"></div>\n            </div>\n            <div class="modal-footer text-center">\n              <button type="button" class="btn btn-default btn-xs" data-dismiss="modal">{{"cancel" | translate}}</button>\n              <button type="submit" class="btn btn-primary btn-xs" ng-disabled="">{{\'change\' | translate}}</button>\n            </div>\n        </form>\n    </div>\n  </div>\n</div>\n\n<div class="modal animated fadeIn" id="selector" ng-controller="ModalFileManagerCtrl">\n  <div class="modal-dialog">\n    <div class="modal-content">\n      <div class="modal-header">\n        <button type="button" class="close" data-dismiss="modal">\n            <span aria-hidden="true">&times;</span>\n            <span class="sr-only">{{"close" | translate}}</span>\n        </button>\n        <h4 class="modal-title">{{"select_destination_folder" | translate}}</h4>\n      </div>\n      <div class="modal-body">\n        <div>\n            <ol class="breadcrumb">\n                <li ng-repeat="(key, dir) in fileNavigator.currentPath track by key" ng-class="{\'active\':$last}" class="animated fast fadeIn">\n                    <a href="" ng-show="!$last" ng-click="fileNavigator.goTo(key)">\n                        {{ translateDirName(dir) | strLimit : 30}}\n                    </a>\n                    <span ng-show="$last">\n                        {{ translateDirName(dir) }}\n                    </span>\n                </li>\n            </ol>\n            <div ng-include="config.tplPath + \'/main-table-modal.html\'"></div>\n            <!--<hr />-->\n            <!--<button class="btn btn-xs btn-default" ng-click="selectCurrent()">\n                <i class="glyphicon"></i> {{"select_this" | translate}}\n            </button>-->\n        </div>\n      </div>\n      <div class="modal-footer text-center">\n        <button type="button" class="btn btn-default btn-xs" data-dismiss="modal" ng-disabled="apiMiddleware.apiHandler.inprocess">{{"close" | translate}}</button>\n      </div>\n    </div>\n  </div>\n</div>\n\n<script type="text/ng-template" id="path-selector">\n  <div class="panel panel-primary mt10 mb0">\n    <div class="panel-body">\n        <div class="detail-sources">\n          <div class="like-code mr5"><b>{{"selection" | translate}}:</b>\n            <span ng-include="\'selected-files-msg\'"></span>\n          </div>\n        </div>\n        <div class="detail-sources">\n          <div class="like-code mr5">\n            <b>{{"destination" | translate}}:</b> {{ getSelectedPath() }}\n          </div>\n          <a href="" class="label label-primary" ng-click="openNavigator(fileNavigator.currentPath)">\n            {{\'change\' | translate}}\n          </a>\n        </div>\n    </div>\n  </div>\n</script>\n\n<script type="text/ng-template" id="error-bar">\n  <div class="label label-danger error-msg pull-left animated fadeIn" ng-show="apiMiddleware.apiHandler.error">\n    <i class="glyphicon glyphicon-remove-circle"></i>\n    <span>{{apiMiddleware.apiHandler.error}}</span>\n  </div>\n</script>\n\n<script type="text/ng-template" id="selected-files-msg">\n  <span ng-show="temps.length == 1">\n    {{singleSelection().model.name | translate}}\n  </span>\n  <span ng-show="temps.length > 1">\n    {{\'these_elements\' | translate:totalSelecteds()}}\n    <a href="" class="label label-primary" ng-click="showDetails = !showDetails">\n      {{showDetails ? \'-\' : \'+\'}} {{\'details\' | translate}}\n    </a>\n  </span>\n  <div ng-show="temps.length > 1 &amp;&amp; showDetails">\n    <ul class="selected-file-details">\n      <li ng-repeat="tempItem in temps track by $index">\n        <b>{{tempItem.model.name | translate}}</b>\n      </li>\n    </ul>\n  </div>\n</script>\n'),
e.put("src/templates/navbar.html",'<nav class="navbar navbar-inverse">\r\n    <div class="container-fluid">\r\n        <div class="row">\r\n          <div class="col-xs-6 col-sm-4 col-md-2">\r\n            <div class="navbar-collapse">\r\n                <div class="navbar-form">\r\n                  <!-- Dropdown button -->\r\n                  <div class="btn-group navbar-padding-left">\r\n                    <button type="button" class="btn btn-primary btn-xs" ng-click="modal(\'uploadfile\')">{{\'upload_files\' | translate}}</button>\r\n                    <button type="button" class="btn btn-primary dropdown-toggle btn-xs" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\r\n                      <span class="caret"></span>\r\n                      <span class="sr-only">{{ \'DASHBOARD.TOGGLE_DROPDOWN\' | translate }}</span>\r\n                    </button>\r\n                    <ul class="dropdown-menu">\r\n                      <li><a href="" ng-click="prepareNewFolder() && modal(\'newfolder\')"><i class="glyphicon glyphicon-plus"></i> {{\'new_folder\' | translate}}</a></li>\r\n                      <li><a href="" ng-click="modal(\'uploadfile\')"><i class="glyphicon glyphicon-cloud-upload"></i> {{\'upload_files\' | translate}}</a></li>\r\n                    </ul>\r\n                  </div>\r\n                <!--<button class="btn btn-primary btn-xs" ng-click="modal(\'uploadfile\')">\r\n                  <i class="glyphicon glyphicon-cloud-upload"></i> {{"upload_files" | translate}}\r\n                </button>-->\r\n              </div>\r\n            </div>\r\n          </div>\r\n            <div class="col-sm-5 col-md-7 hidden-xs">\r\n                <div ng-show="!config.breadcrumb">\r\n                    <a class="navbar-brand hidden-xs ng-binding" href="">angular-filemanager</a>\r\n                </div>\r\n                <div ng-include="config.tplPath + \'/current-folder-breadcrumb.html\'" ng-show="config.breadcrumb">\r\n                </div>\r\n            </div>\r\n            <div class="col-xs-6 col-sm-3 col-md-3">\r\n                <div class="navbar-collapse">\r\n                    <div class="navbar-form navbar-right text-right">\r\n\r\n                        <button class="btn btn-flat btn-sm" ng-click="modal(\'remove\')" title="{{\'remove\' | translate}}"\r\n                            ng-show="config.allowedActions.remove && (allowActionsWithSingleSelection() || allowActionsWithMultiSelection())">\r\n                            <i class="glyphicon glyphicon-trash"></i>\r\n                        </button>\r\n\r\n                        <button class="btn btn-flat btn-sm" ng-click="download()" title="{{\'download\' | translate}}"\r\n                                ng-show="config.allowedActions.download && !selectionHas(\'dir\') && singleSelection()">\r\n                            <i class="glyphicon glyphicon-cloud-download"></i>\r\n                        </button>\r\n\r\n                        <button class="btn btn-flat btn-sm" ng-click="modal(\'startreportgeneration\')" title="{{\'startbatchreportgeneration\' | translate}}"\r\n                            ng-show="config.allowedActions.reportgeneration && singleSelection() && !singleSelection().isFolder() && singleSelection().model.processingStatus === \'processed\'">\r\n                            <i class="glyphicon glyphicon-play"></i>\r\n                        </button>\r\n                        \r\n                        <button class="btn btn-flat btn-sm" ng-click="smartClick(singleSelection())" title="{{\'open\' | translate}}"\r\n                            ng-show="singleSelection() && singleSelection().isFolder()">\r\n                            <i class="glyphicon glyphicon-folder-open"></i>\r\n                        </button>\r\n                        \r\n                        <div class="btn-group" uib-dropdown auto-close="outsideClick">\r\n                            <button class="btn btn-flat btn-sm dropdown-toggle" type="button" id="dropDownMenuLang" uib-dropdown-toggle\r\n                              aria-expanded="true">\r\n                                <i class="glyphicon glyphicon-search mr2"></i>\r\n                            </button>\r\n                            <div uib-dropdown-menu class="dropdown-menu animated fast fadeIn pull-right" role="menu" aria-labelledby="dropDownMenuLang">\r\n                                <input type="text" class="form-control" ng-show="config.searchForm" placeholder="{{\'search\' | translate}}..." ng-model="$parent.query">\r\n                            </div>\r\n                        </div>\r\n\r\n                        <button class="btn btn-flat btn-sm" ng-click="$parent.setTemplate(\'main-icons.html\')" ng-show="$parent.viewTemplate !==\'main-icons.html\'"\r\n                            title="{{\'icons\' | translate}}">\r\n                            <i class="glyphicon glyphicon-th-large"></i>\r\n                        </button>\r\n\r\n                        <button class="btn btn-flat btn-sm" ng-click="$parent.setTemplate(\'main-table.html\')" ng-show="$parent.viewTemplate !==\'main-table.html\'"\r\n                            title="{{\'list\' | translate}}">\r\n                            <i class="glyphicon glyphicon-th-list"></i>\r\n                        </button>\r\n\r\n                        <!-- language dropdown is unnecessary -->\r\n                        <!--<div class="btn-group" uib-dropdown>\r\n                            <button class="btn btn-flat btn-sm dropdown-toggle" type="button" id="dropDownMenuLang" uib-dropdown-toggle aria-expanded="true">\r\n                                <i class="glyphicon glyphicon-globe mr2"></i>\r\n                            </button>\r\n\r\n                            <ul uib-dropdown-menu class="dropdown-menu scrollable-menu animated fast fadeIn pull-right" role="menu" aria-labelledby="dropDownMenuLang">\r\n                                <li role="presentation"><a role="menuitem" tabindex="-1" href="" ng-click="changeLanguage(\'hu\')">{{"hungarian" | translate}}</a></li>\r\n                                <li role="presentation"><a role="menuitem" tabindex="-1" href="" ng-click="changeLanguage(\'en\')">{{"english" | translate}}</a></li>\r\n                                <li role="presentation"><a role="menuitem" tabindex="-1" href="" ng-click="changeLanguage(\'zh\')">{{"chinese" | translate}}</a></li>\r\n                                <li role="presentation"><a role="menuitem" tabindex="-1" href="" ng-click="changeLanguage(\'es\')">{{"spanish" | translate}}</a></li>\r\n                                <li role="presentation"><a role="menuitem" tabindex="-1" href="" ng-click="changeLanguage(\'pt\')">{{"portuguese" | translate}}</a></li>\r\n                                <li role="presentation"><a role="menuitem" tabindex="-1" href="" ng-click="changeLanguage(\'fr\')">{{"french" | translate}}</a></li>\r\n                                <li role="presentation"><a role="menuitem" tabindex="-1" href="" ng-click="changeLanguage(\'de\')">{{"german" | translate}}</a></li>\r\n                                <li role="presentation"><a role="menuitem" tabindex="-1" href="" ng-click="changeLanguage(\'he\')">{{"hebrew" | translate}}</a></li>\r\n                                <li role="presentation"><a role="menuitem" tabindex="-1" href="" ng-click="changeLanguage(\'sk\')">{{"slovak" | translate}}</a></li>\r\n                                <li role="presentation"><a role="menuitem" tabindex="-1" href="" ng-click="changeLanguage(\'ru\')">{{"russian" | translate}}</a></li>\r\n                                <li role="presentation"><a role="menuitem" tabindex="-1" href="" ng-click="changeLanguage(\'ua\')">{{"ukrainian" | translate}}</a></li>\r\n                                <li role="presentation"><a role="menuitem" tabindex="-1" href="" ng-click="changeLanguage(\'tr\')">{{"turkish" | translate}}</a></li>\r\n                                <li role="presentation"><a role="menuitem" tabindex="-1" href="" ng-click="changeLanguage(\'fa\')">{{"persian" | translate}}</a></li>\r\n                            </ul>\r\n                        </div>-->\r\n\r\n                        <div class="btn-group" uib-dropdown>\r\n                            <button class="btn btn-flat btn-sm dropdown-toggle" type="button" id="more" uib-dropdown-toggle aria-expanded="true">\r\n                                <i class="glyphicon glyphicon-option-vertical"></i>\r\n                            </button>\r\n\r\n                            <ul uib-dropdown-menu class="dropdown-menu scrollable-menu animated fast fadeIn pull-right" role="menu" aria-labelledby="more">\r\n                                <li role="presentation" ng-show="config.allowedActions.createFolder" ng-click="prepareNewFolder() && modal(\'newfolder\')">\r\n                                    <!--<a href="#" role="menuitem" tabindex="-1">-->\r\n                                    <a role="menuitem" href="" tabindex="-1">\r\n                                        <i class="glyphicon glyphicon-plus"></i> {{"new_folder" | translate}}\r\n                                    </a>\r\n                                </li>\r\n                                <li role="presentation" ng-show="config.allowedActions.upload" ng-click="modal(\'uploadfile\')">\r\n                                    <!--<a href="#" role="menuitem" tabindex="-1">-->\r\n                                    <a role="menuitem" href="" tabindex="-1">\r\n                                        <i class="glyphicon glyphicon-cloud-upload"></i> {{"upload_files" | translate}}\r\n                                    </a>\r\n                                </li>\r\n                            </ul>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</nav>\r\n'),e.put("src/templates/sidebar.html",'<ul class="nav nav-sidebar file-tree-root">\r\n<li ng-repeat="item in fileNavigator.history | orderBy:[\'item.model.order\',\'name\'] track by $index" ng-include="\'folder-branch-item\'"\r\n    ng-class="{\'active\': item.name == fileNavigator.currentPath.join(\'/\')}">\r\n    </li>\r\n</ul>\r\n\r\n<script type="text/ng-template" id="folder-branch-item">\r\n    <a href="" ng-click="smartClick(item.item)" class="animated fast fadeInDown" ng-if="item.name != \'\'">\r\n        <span class="point">\r\n            <i class="glyphicon glyphicon-chevron-down" ng-show="isInThisPath(item.name)"></i>\r\n            <i class="glyphicon glyphicon-chevron-right" ng-show="!isInThisPath(item.name)"></i>\r\n        </span>\r\n        <i class="glyphicon glyphicon-folder-open mr2" ng-show="isInThisPath(item.name) && item.name !== \'user\' && item.name !== \'organizations\'"></i>\r\n        <i class="glyphicon glyphicon-folder-close mr2" ng-show="!isInThisPath(item.name) && item.name !== \'user\' && item.name !== \'organizations\'"></i>\r\n        <i class="glyphicon glyphicon-user mr2" ng-show="item.name === \'user\'"></i>\r\n        <i class="fa fa-university" ng-show="item.name === \'organizations\'"></i>\r\n        <span ng-if="item.item.model.base == true">{{ translateItem(item.item) | strLimit : 60 }}</span>\r\n        <span ng-if="item.item.model.base != true">{{ (item.name.split(\'/\').pop() || \'/\') | strLimit : 60 }}</span>\r\n    </a>\r\n    <ul class="nav nav-sidebar">\r\n        <li ng-repeat="item in item.nodes | orderBy:[\'item.model.order\',\'name\'] track by $index" ng-if="item.item.model.showAlways == true" ng-include="\'folder-branch-item\'" ng-class="{\'active\': item.name == fileNavigator.currentPath.join(\'/\')}">\r\n        </li>\r\n    </ul>\r\n</script>\r\n'),e.put("src/templates/spinner.html",'<div class="spinner-wrapper col-xs-12">\r\n    <svg class="spinner-container" style="width:65px;height:65px" viewBox="0 0 44 44">\r\n        <circle class="path" cx="22" cy="22" r="20" fill="none" stroke-width="4"></circle>\r\n    </svg>\r\n</div>')}]);