!function(e,n,r){"use strict";n.module("FileManagerApp",["pascalprecht.translate","ngFileUpload"]),r(e.document).on("shown.bs.modal",".modal",function(){e.setTimeout(function(){r("[autofocus]",this).focus()}.bind(this),100)}),r(e.document).on("click",function(){r("#context-menu").hide()}),r(e.document).on("contextmenu",'.main-navigation .table-files tr.item-list:has("td"), .item-list',function(n){var t=r("#context-menu");n.pageX>=e.innerWidth-t.width()&&(n.pageX-=t.width()),n.pageY>=e.innerHeight-t.height()&&(n.pageY-=t.height()),t.hide().css({left:n.pageX,top:n.pageY}).appendTo("body").show(),n.preventDefault()}),Array.prototype.find||(Array.prototype.find=function(e){if(null==this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var n,r=Object(this),t=r.length>>>0,i=arguments[1],a=0;a<t;a++)if(n=r[a],e.call(i,n,a,r))return n})}(window,angular,jQuery),function(e,n){"use strict";e.module("FileManagerApp").controller("FileManagerCtrl",["$scope","$rootScope","$window","$translate","$location","$interval","$filter","fileManagerConfig","item","fileNavigator","apiMiddleware",function(r,t,i,a,s,l,o,d,c,p,m){function u(e,n){var r;for(var t in n){if(void 0!=r)break;var i=n[t];i.name.split("/").pop()===e?r=i.item:i.nodes&&i.nodes.length>0&&(r=u(e,i.nodes))}return r}var g=i.localStorage;r.config=d,r.reverse=!1,r.predicate=["model.type","model.name"],r.order=function(e){r.reverse=r.predicate[1]===e&&!r.reverse,r.predicate[1]=e},r.query="",r.fileNavigator=new p,r.apiMiddleware=new m,r.uploadFileList=[],r.viewTemplate=g.getItem("viewTemplate")||"main-icons.html",r.fileList=[],r.temps=[],r.currentFolder={},r.$watch("temps",function(){r.singleSelection()?(r.temp=r.singleSelection(),r.isReportOpen=!0,r.isDescriptionOpen=!0,r.temp.model.path&&"file"===r.temp.model.type&&"processed"===r.temp.model.processingStatus&&r.listReports()):(r.temp=new c({rights:644}),r.temp.multiple=!0),r.temp.revert()}),r.fileNavigator.onRefresh=function(){r.temps=[],r.query="",t.selectedModalPath=r.fileNavigator.currentPath},r.setTemplate=function(e){g.setItem("viewTemplate",e),r.viewTemplate=e},r.changeLanguage=function(e){return e?(g.setItem("language",e),a.use(e)):void a.use(g.getItem("language")||d.defaultLang)},r.isSelected=function(e){return r.temps.indexOf(e)!==-1},r.selectOrUnselect=function(e,n){var t=r.temps.indexOf(e),i=n&&3==n.which;if(n&&n.target.hasAttribute("prevent"))return void(r.temps=[]);if(!(!e||i&&r.isSelected(e))){if(n&&n.shiftKey&&!i){var a=r.fileList,s=a.indexOf(e),l=r.temps[0],o=a.indexOf(l),d=void 0;if(l&&a.indexOf(l)<s){for(r.temps=[];o<=s;)d=a[o],!r.isSelected(d)&&r.temps.push(d),o++;return}if(l&&a.indexOf(l)>s){for(r.temps=[];o>=s;)d=a[o],!r.isSelected(d)&&r.temps.push(d),o--;return}}return n&&!i&&(n.ctrlKey||n.metaKey)?void(r.isSelected(e)?r.temps.splice(t,1):r.temps.push(e)):void(r.temps=[e])}},r.singleSelection=function(){return 1===r.temps.length&&r.temps[0]},r.totalSelecteds=function(){return{total:r.temps.length}},r.selectionHas=function(e){return r.temps.find(function(n){return n&&n.model.type===e})},r.selectionHasOtherStatusThan=function(e){return r.temps.find(function(n){return n&&n.model.processingStatus!==e})},r.prepareNewFolder=function(){var e=new c(null,r.fileNavigator.currentPath);return r.temps=[e],e},r.goTo=function(e){(0===e&&"user"===r.fileNavigator.currentPath[0]||1===e&&"organizations"===r.fileNavigator.currentPath[0])&&(r.currentFolder.sectionLength=200),r.fileNavigator.goTo(e)},r.smartClick=function(e){r.currentFolder.sectionLength=e.model.maxSectionLength,0==r.currentFolder.sectionLength&&(r.currentFolder.sectionLength=200);var n=r.config.allowedActions.pickFiles;if(e.isFolder())return r.fileNavigator.folderClick(e);if("function"==typeof r.config.pickCallback&&n){var t=r.config.pickCallback(e.model);if(t===!0)return}return e.isImage()?r.config.previewImagesInModal?r.openImagePreview(e):r.apiMiddleware.download(e,!0):e.isEditable()?r.openEditItem(e):void 0},r.openImagePreview=function(){var e=r.singleSelection();r.apiMiddleware.apiHandler.inprocess=!0,r.modal("imagepreview",null,!0).find("#imagepreview-target").attr("src",r.apiMiddleware.getUrl(e)).unbind("load error").on("load error",function(){r.apiMiddleware.apiHandler.inprocess=!1,r.$apply()})},r.openEditItem=function(){var e=r.singleSelection();r.apiMiddleware.getContent(e).then(function(n){e.tempModel.content=e.model.content=n.result}),r.modal("edit")},r.modal=function(e,t,i){if("remove"!==e||t){"startreportgeneration"!==e||t?"startbatchreportgeneration"!==e||t||(r.report={reportSettings:{}}):r.report={reportName:r.singleSelection().model.name+" - "+o("date")(new Date,"yyyy-MM-dd HH:mm:ss"),reportSettings:{}};var a=n("#"+e);return a.modal(t?"hide":"show"),r.apiMiddleware.apiHandler.error="",r.apiMiddleware.apiHandler.asyncSuccess=!1,!i||a}r.apiMiddleware.checkBeforeRemove(r.temps).then(function(t){r.removePreviewResult=t;var a=n("#"+e);return a.modal("show"),r.apiMiddleware.apiHandler.error="",r.apiMiddleware.apiHandler.asyncSuccess=!1,!i||a})},r.modalWithPathSelector=function(e){return t.selectedModalPath=r.fileNavigator.currentPath,r.modal(e)},r.isInThisPath=function(e){var n=r.fileNavigator.currentPath.join("/")+"/";return n.indexOf(e+"/")!==-1},r.edit=function(){r.apiMiddleware.edit(r.singleSelection()).then(function(){r.modal("edit",!0)})},r.changePermissions=function(){r.apiMiddleware.changePermissions(r.temps,r.temp).then(function(){r.modal("changepermissions",!0)})},r.download=function(){var e=r.singleSelection();if(!r.selectionHas("dir"))return e?r.apiMiddleware.download(e):r.apiMiddleware.downloadMultiple(r.temps)},r.copy=function(){var e=r.singleSelection();if(e){var n=e.tempModel.name.trim(),i=r.fileNavigator.fileNameExists(n);if(!n)return r.apiMiddleware.apiHandler.error=a.instant("error_invalid_filename"),!1;if(i&&h(e))return r.apiMiddleware.apiHandler.error=a.instant("error_existing_filename"),!1}r.apiMiddleware.copy(r.temps,t.selectedModalPath).then(function(){r.fileNavigator.refresh(),r.modal("copy",!0)})},r.compress=function(){var e=r.temp.tempModel.name.trim(),n=r.fileNavigator.fileNameExists(e);return e?n&&h(r.temp)?(r.apiMiddleware.apiHandler.error=a.instant("error_existing_filename"),!1):void r.apiMiddleware.compress(r.temps,e,t.selectedModalPath).then(function(){return r.fileNavigator.refresh(),r.config.compressAsync?void(r.apiMiddleware.apiHandler.asyncSuccess=!0):r.modal("compress",!0)},function(){r.apiMiddleware.apiHandler.asyncSuccess=!1}):(r.apiMiddleware.apiHandler.error=a.instant("error_invalid_filename"),!1)},r.extract=function(){var e=r.temp,n=r.temp.tempModel.name.trim(),i=r.fileNavigator.fileNameExists(n);return n?i&&h(r.temp)?(r.apiMiddleware.apiHandler.error=a.instant("error_existing_filename"),!1):void r.apiMiddleware.extract(e,n,t.selectedModalPath).then(function(){return r.fileNavigator.refresh(),r.config.extractAsync?void(r.apiMiddleware.apiHandler.asyncSuccess=!0):r.modal("extract",!0)},function(){r.apiMiddleware.apiHandler.asyncSuccess=!1}):(r.apiMiddleware.apiHandler.error=a.instant("error_invalid_filename"),!1)},r.remove=function(){r.apiMiddleware.remove(r.temps).then(function(){r.fileNavigator.refresh(),r.modal("remove",!0)})},r.move=function(){var e=r.singleSelection()||r.temps[0];return e&&h(e)?(r.apiMiddleware.apiHandler.error=a.instant("error_cannot_move_same_path"),!1):void r.apiMiddleware.move(r.temps,t.selectedModalPath).then(function(){r.fileNavigator.refresh(),r.modal("move",!0)})},r.rename=function(){var e=r.singleSelection(),n=e.tempModel.name,t=e.tempModel.path.join("")===e.model.path.join("");return n?t&&r.fileNavigator.fileNameExists(n)?(r.apiMiddleware.apiHandler.error=a.instant("error_existing_filename"),!1):void r.apiMiddleware.rename(e).then(function(){r.fileNavigator.refresh(),r.modal("rename",!0)}):(r.apiMiddleware.apiHandler.error=a.instant("error_invalid_filename"),!1)},r.createFolder=function(e){var n=r.singleSelection();n.tempModel.maxSectionLength=e;var t=n.tempModel.name;return t?r.fileNavigator.fileNameExists(t)?r.apiMiddleware.apiHandler.error=a.instant("error_creating_folder_already_exists"):void r.apiMiddleware.createFolder(n).then(function(){r.fileNavigator.refresh(),r.modal("newfolder",!0)}):r.apiMiddleware.apiHandler.error=a.instant("error_invalid_filename")},r.addForUpload=function(e){r.uploadFileList=r.uploadFileList.concat(e),r.modal("uploadfile")},r.removeFromUpload=function(e){r.uploadFileList.splice(e,1)},r.uploadFiles=function(){for(var e in r.fileNavigator.fileList)for(var n in r.uploadFileList)if(r.fileNavigator.fileList[e].model.name===r.uploadFileList[n].name)return r.apiMiddleware.apiHandler.error=a.instant("error_creating_folder_already_exists");r.apiMiddleware.upload(r.uploadFileList,r.fileNavigator.currentPath).then(function(){r.fileNavigator.refresh(),r.uploadFileList=[],r.modal("uploadfile",!0)},function(e){var n=a.instant("error_uploading_files");e&&e.result&&e.result.error&&(n=e.result.error),e&&e.result&&409==e.result.status&&(n=a.instant("error_uploading_files_file_already_exists")),e&&e.code&&403===e.code&&(n=a.instant("error_uploading_files_wrong_destination")),r.apiMiddleware.apiHandler.error=n})},r.emptyList=function(){r.uploadFileList=[],n("#uploadfile").modal("hide")},r.prepareReportGeneration=function(){r.modalFileNavigator=new p},r.startReportGeneration=function(e){if(r.reportStartSubmitted=!0,!e.reportName)return void(r.apiMiddleware.apiHandler.error=a.instant("REPORT_GENERATION_MODAL.REPORT_NAME_IS_REQUIRED"));if(!e.reportSettings.myFiles&&!e.reportSettings.institutionFiles&&!e.reportSettings.webResources)return void(r.apiMiddleware.apiHandler.error=a.instant("REPORT_GENERATION_MODAL.REPORT_TARGET_REQUIRED"));var n=r.temps[0].model.fullPath(),i=r.temps[0].model.name;e.filePath=n,e.fileName=i,e.includedCorpuses=[];for(var s in t.reportDirFilters){var l=t.reportDirFilters[s].model.fullPath();e.includedCorpuses.push(l)}t.reportDirFilters=[],r.apiMiddleware.startReportGeneration(e).then(function(){r.fileNavigator.refresh(),r.modal("startreportgeneration",!0)})},r.startBatchReportGeneration=function(n){if(r.batchReportStartSubmitted=!0,!n.reportSettings.myFiles&&!n.reportSettings.institutionFiles&&!n.reportSettings.webResources)return void(r.apiMiddleware.apiHandler.error=a.instant("REPORT_GENERATION_MODAL.REPORT_TARGET_REQUIRED"));var t=[];e.forEach(r.temps,function(e){t.push({path:e.model.fullPath(),name:e.model.name})}),n.selectedDocuments=t,r.apiMiddleware.startBatchReportGeneration(n).then(function(){r.fileNavigator.refresh(),r.modal("startbatchreportgeneration",!0)})},r.listReports=function(){var e=r.temps[0].model.fullPath();r.apiMiddleware.listReports(e).then(function(e){r.currentReports=e.result,r.isReportOpen=!0,r.isDescriptionOpen=!0,r.reportLimit=2,r.isLimited=!0})},r.getReportLimit=function(){return r.isLimited||!r.currentReports?r.reportLimit:r.currentReports.length},r.toggleFullReportList=function(){r.isLimited=!r.isLimited},r.openReport=function(e){s.path(d.reportViewBasePath+e)},r.shouldDescriptionBeOpen=function(){return 1==r.temps.length&&r.temps[0].model&&r.temps[0].model.name},r.allowActionsWithSingleSelection=function(){return 1===r.temps.length&&r.temps[0]&&r.temps[0].model&&1!=r.temps[0].model.base},r.allowActionsWithMultiSelection=function(){var n=!0;return r.temps.length>1&&(e.forEach(r.temps,function(e){e.model&&e.model.base&&1==e.model.base&&(n=!1)}),n)};var h=function(e){var n=t.selectedModalPath.join(""),r=e&&e.model.path.join("");return r===n},f=function(e){var n=i.location.search.substr(1).split("&").filter(function(n){return e===n.split("=")[0]});return n[0]&&n[0].split("=")[1]||void 0};r.changeLanguage(f("lang")),r.isWindows="Windows"===f("server"),r.fileNavigator.refresh(),r.refreshList=function(){r.fileNavigator.refresh()},r.getClassForScore=function(e){var n="badge ";return e<.25?n+="low":e<.5?n+="medium":e<.75?n+="high":e<=1&&(n+="very-high"),n},r.update=l(function(){r.fileNavigator.updateStatus(),r.singleSelection()&&r.listReports()},1e4),r.stopUpdate=function(){e.isDefined(r.update)&&(l.cancel(r.update),r.update=void 0)},r.translateDirName=function(e){var n=u(e,r.fileNavigator.history);return n?r.translateItem(n):e},r.translateItem=function(e){if(e&&e.model&&e.model.name){if(!e.model.base)return e.model.name;if(e.model.name){var n=e.model.name;if(n.indexOf(":")>-1){var r=n.indexOf(":");n=n.substring(0,r)}var t=a.instant(n,e.model.nameVariables);return t}}},r.$on("$destroy",function(){r.stopUpdate()})}])}(angular,jQuery),function(e){"use strict";e.module("FileManagerApp").controller("ModalFileManagerCtrl",["$scope","$rootScope","fileNavigator",function(e,n,r){function t(e){var r=-1;for(var t in n.reportDirFilters){var i=n.reportDirFilters[t];if(e.model.name===i.model.name&&e.model.path.join()===i.model.path.join()){r=t;break}}return r}e.reverse=!1,e.predicate=["model.type","model.name"],e.fileNavigator=new r,n.selectedModalPath=[],n.reportDirFilters=[],e.order=function(n){e.reverse=e.predicate[1]===n&&!e.reverse,e.predicate[1]=n},e.select=function(r){n.selectedModalPath=r.model.fullPath().split("/"),e.modal("selector",!0)},e.selectCurrent=function(){n.selectedModalPath=e.fileNavigator.currentPath,e.modal("selector",!0)},e.selectedFilesAreChildOfPath=function(n){var r=n.model.fullPath();return e.temps.find(function(e){var n=e.model.fullPath();if(r==n)return!0})},n.openNavigator=function(n){e.fileNavigator.currentPath=n,e.fileNavigator.refresh(),e.modal("selector")},n.getSelectedPath=function(){var r=n.selectedModalPath.filter(Boolean),t="/"+r.join("/");return e.singleSelection()&&!e.singleSelection().isFolder()&&(t+="/"+e.singleSelection().tempModel.name),t.replace(/\/\//,"/")},e.isChecked=function(e){return t(e)>-1},e.toggleSelection=function(e){var r=t(e);r>-1?n.reportDirFilters.splice(r,1):n.reportDirFilters.push(e)}}])}(angular),function(e){"use strict";var n=e.module("FileManagerApp");n.directive("angularFilemanager",["$parse","fileManagerConfig",function(e,n){return{restrict:"EA",templateUrl:n.tplPath+"/main.html"}}]),n.directive("ngFile",["$parse",function(e){return{restrict:"A",link:function(n,r,t){var i=e(t.ngFile),a=i.assign;r.bind("change",function(){n.$apply(function(){a(n,r[0].files)})})}}}]),n.directive("ngRightClick",["$parse",function(e){return function(n,r,t){var i=e(t.ngRightClick);r.bind("contextmenu",function(e){n.$apply(function(){e.preventDefault(),i(n,{$event:e})})})}}])}(angular),function(e){"use strict";e.module("FileManagerApp").service("chmod",function(){var e=function(e){if(this.owner=this.getRwxObj(),this.group=this.getRwxObj(),this.others=this.getRwxObj(),e){var n=isNaN(e)?this.convertfromCode(e):this.convertfromOctal(e);if(!n)throw new Error("Invalid chmod input data (%s)".replace("%s",e));this.owner=n.owner,this.group=n.group,this.others=n.others}};return e.prototype.toOctal=function(e,n){var r=[];return["owner","group","others"].forEach(function(e,n){r[n]=this[e].read&&this.octalValues.read||0,r[n]+=this[e].write&&this.octalValues.write||0,r[n]+=this[e].exec&&this.octalValues.exec||0}.bind(this)),(e||"")+r.join("")+(n||"")},e.prototype.toCode=function(e,n){var r=[];return["owner","group","others"].forEach(function(e,n){r[n]=this[e].read&&this.codeValues.read||"-",r[n]+=this[e].write&&this.codeValues.write||"-",r[n]+=this[e].exec&&this.codeValues.exec||"-"}.bind(this)),(e||"")+r.join("")+(n||"")},e.prototype.getRwxObj=function(){return{read:!1,write:!1,exec:!1}},e.prototype.octalValues={read:4,write:2,exec:1},e.prototype.codeValues={read:"r",write:"w",exec:"x"},e.prototype.convertfromCode=function(e){if(e=(""+e).replace(/\s/g,""),e=10===e.length?e.substr(1):e,/^[-rwxts]{9}$/.test(e)){var n=[],r=e.match(/.{1,3}/g);for(var t in r){var i=this.getRwxObj();i.read=/r/.test(r[t]),i.write=/w/.test(r[t]),i.exec=/x|t/.test(r[t]),n.push(i)}return{owner:n[0],group:n[1],others:n[2]}}},e.prototype.convertfromOctal=function(e){if(e=(""+e).replace(/\s/g,""),e=4===e.length?e.substr(1):e,/^[0-7]{3}$/.test(e)){var n=[],r=e.match(/.{1}/g);for(var t in r){var i=this.getRwxObj();i.read=/[4567]/.test(r[t]),i.write=/[2367]/.test(r[t]),i.exec=/[1357]/.test(r[t]),n.push(i)}return{owner:n[0],group:n[1],others:n[2]}}},e})}(angular),function(e){"use strict";e.module("FileManagerApp").factory("item",["fileManagerConfig","chmod",function(n,r){var t=function(n,t){var i={objectId:n&&n.objectId||"",name:n&&n.name||"",nameVariables:n&&n.nameVariables,path:t||[],type:n&&n.type||"file",size:n&&parseInt(n.size||0),creationDate:n&&new Date(n.creationDate),modificationDate:n&&new Date(n.modificationDate),perms:new r(n&&n.rights),content:n&&n.content||"",recursive:!1,fullPath:function(){var e=this.path.filter(Boolean);return("/"+e.join("/")+"/"+this.name).replace(/\/\//,"/")},order:n&&parseInt(n.order||0),base:n&&n.base,processingStatus:n&&n.processingStatus,owner:n&&n.owner,maxSectionLength:n&&n.maxSectionLength};this.error="",this.processing=!1,this.model=e.copy(i),this.tempModel=e.copy(i)};return t.prototype.update=function(){e.extend(this.model,e.copy(this.tempModel))},t.prototype.revert=function(){e.extend(this.tempModel,e.copy(this.model)),this.error=""},t.prototype.isFolder=function(){return"dir"===this.model.type},t.prototype.isEditable=function(){return!this.isFolder()&&n.isEditableFilePattern.test(this.model.name)},t.prototype.isImage=function(){return n.isImageFilePattern.test(this.model.name)},t.prototype.isCompressible=function(){return this.isFolder()},t.prototype.isExtractable=function(){return!this.isFolder()&&n.isExtractableFilePattern.test(this.model.name)},t.prototype.isSelectable=function(){return this.isFolder()&&n.allowedActions.pickFolders||!this.isFolder()&&n.allowedActions.pickFiles},t}])}(angular),function(e){"use strict";var n=e.module("FileManagerApp");n.filter("strLimit",["$filter",function(e){return function(n,r,t){return n.length<=r?n:e("limitTo")(n,r)+(t||"...")}}]),n.filter("fileExtension",["$filter",function(e){return function(n){return/\./.test(n)&&e("strLimit")(n.split(".").pop(),3,"..")||""}}]),n.filter("formatDate",["$filter",function(){return function(e){return e instanceof Date?e.toISOString().substring(0,19).replace("T"," "):(e.toLocaleString||e.toString).apply(e)}}]),n.filter("humanReadableFileSize",["$filter","fileManagerConfig",function(e,n){var r=[" kB"," MB"," GB"," TB","PB","EB","ZB","YB"],t=["KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"];return function(e){var i=-1,a=e;do a/=1024,i++;while(a>1024);var s=n.useBinarySizePrefixes?t[i]:r[i];return Math.max(a,.1).toFixed(1)+" "+s}}])}(angular),function(e){"use strict";e.module("FileManagerApp").provider("fileManagerConfig",function(){var n={appName:"angular-filemanager v1.5",defaultLang:"en",listUrl:"bridges/php/handler.php",uploadUrl:"bridges/php/handler.php",renameUrl:"bridges/php/handler.php",copyUrl:"bridges/php/handler.php",moveUrl:"bridges/php/handler.php",removeUrl:"bridges/php/handler.php",checkBeforeRemoveUrl:"",editUrl:"bridges/php/handler.php",getContentUrl:"bridges/php/handler.php",createFolderUrl:"bridges/php/handler.php",downloadFileUrl:"bridges/php/handler.php",downloadMultipleUrl:"bridges/php/handler.php",compressUrl:"bridges/php/handler.php",extractUrl:"bridges/php/handler.php",permissionsUrl:"bridges/php/handler.php",reportGenerationUrl:"",batchReportGenerationUrl:"",reportListUrl:"",reportViewBasePath:"",authenticationUrl:"",searchForm:!0,sidebar:!0,breadcrumb:!0,allowedActions:{upload:!0,rename:!0,move:!0,copy:!0,edit:!0,changePermissions:!0,compress:!0,compressChooseName:!0,extract:!0,download:!0,downloadMultiple:!0,preview:!0,remove:!0,createFolder:!0,pickFiles:!1,pickFolders:!1,reportgeneration:!1},multipleDownloadFileName:"angular-filemanager.zip",showExtensionIcons:!0,showSizeForDirectories:!1,useBinarySizePrefixes:!1,downloadFilesByAjax:!0,previewImagesInModal:!0,enablePermissionsRecursive:!0,compressAsync:!1,extractAsync:!1,pickCallback:null,isEditableFilePattern:/\.(txt|diff?|patch|svg|asc|cnf|cfg|conf|html?|.html|cfm|cgi|aspx?|ini|pl|py|md|css|cs|js|jsp|log|htaccess|htpasswd|gitignore|gitattributes|env|json|atom|eml|rss|markdown|sql|xml|xslt?|sh|rb|as|bat|cmd|cob|for|ftn|frm|frx|inc|lisp|scm|coffee|php[3-6]?|java|c|cbl|go|h|scala|vb|tmpl|lock|go|yml|yaml|tsv|lst)$/i,isImageFilePattern:/\.(jpe?g|gif|bmp|png|svg|tiff?)$/i,isExtractableFilePattern:/\.(gz|tar|rar|g?zip)$/i,tplPath:"src/templates"};return{$get:function(){return n},set:function(r){e.extend(n,r)}}})}(angular),function(e){"use strict";e.module("FileManagerApp").config(["$translateProvider",function(e){}])}(angular),function(e,n){"use strict";e.module("FileManagerApp").service("apiHandler",["$http","$q","$window","$translate","Upload",function(e,r,t,i,a){e.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";var s=function(){this.inprocess=!1,this.asyncSuccess=!1,this.error=""};return s.prototype.deferredHandler=function(e,n,r,t){return e&&"object"==typeof e||t||(this.error="Error %s - Bridge response error, please check the API docs or this ajax response.".replace("%s",r)),404==r&&(this.error="Error 404 - Backend bridge is not working, please check the ajax response."),e&&e.result&&e.result.error&&(this.error=e.result.error),!this.error&&e&&e.error&&(this.error=e.error.message),!this.error&&t&&(this.error=t),null!=e&&("object"!=typeof e?e={result:e,code:r}:e.code=r),this.error?n.reject(e):n.resolve(e)},s.prototype.list=function(n,t,i,a){var s=this,l=i||s.deferredHandler,o=r.defer(),d={action:"list",path:t};return a&&(d.modifiedSince=a),s.inprocess=!0,s.error="",e.post(n,d).success(function(e,n){l(e,o,n)}).error(function(e,n){l(e,o,n,"Unknown error listing, check the response")})["finally"](function(){s.inprocess=!1}),o.promise},s.prototype.copy=function(n,t,a,s){var l=this,o=r.defer(),d={action:"copy",items:t,newPath:a};return s&&1===t.length&&(d.singleFilename=s),l.inprocess=!0,l.error="",e.post(n,d).success(function(e,n){l.deferredHandler(e,o,n)}).error(function(e,n){l.deferredHandler(e,o,n,i.instant("error_copying"))})["finally"](function(){l.inprocess=!1}),o.promise},s.prototype.move=function(n,t,a){var s=this,l=r.defer(),o={action:"move",items:t,newPath:a};return s.inprocess=!0,s.error="",e.post(n,o).success(function(e,n){s.deferredHandler(e,l,n)}).error(function(e,n){s.deferredHandler(e,l,n,i.instant("error_moving"))})["finally"](function(){s.inprocess=!1}),l.promise},s.prototype.remove=function(n,t){var a=this,s=r.defer(),l={action:"remove",items:t};return a.inprocess=!0,a.error="",e.post(n,l).success(function(e,n){a.deferredHandler(e,s,n)}).error(function(e,n){a.deferredHandler(e,s,n,i.instant("error_deleting"))})["finally"](function(){a.inprocess=!1}),s.promise},s.prototype.checkBeforeRemove=function(n,t){var a=this,s=r.defer(),l={action:"remove",items:t};return a.inprocess=!0,a.error="",e.post(n,l).success(function(e,n){a.deferredHandler(e,s,n)}).error(function(e,n){a.deferredHandler(e,s,n,i.instant("error_delete_check"))})["finally"](function(){a.inprocess=!1}),s.promise},s.prototype.upload=function(e,n,t){var i=this,s=r.defer();i.inprocess=!0,i.progress=0,i.error="";for(var l={destination:n},o=0;o<t.length;o++)l["file-"+o]=t[o];return t&&t.length&&a.upload({url:e,data:l}).then(function(e){i.deferredHandler(e.data,s,e.status)},function(e){i.deferredHandler(e.data,s,e.status,"Unknown error uploading files")},function(e){i.progress=Math.min(100,parseInt(100*e.loaded/e.total))-1})["finally"](function(){i.inprocess=!1,i.progress=0}),s.promise},s.prototype.getContent=function(n,t){var a=this,s=r.defer(),l={action:"getContent",item:t};return a.inprocess=!0,a.error="",e.post(n,l).success(function(e,n){a.deferredHandler(e,s,n)}).error(function(e,n){a.deferredHandler(e,s,n,i.instant("error_getting_content"))})["finally"](function(){a.inprocess=!1}),s.promise},s.prototype.edit=function(n,t,a){var s=this,l=r.defer(),o={action:"edit",item:t,content:a};return s.inprocess=!0,s.error="",e.post(n,o).success(function(e,n){s.deferredHandler(e,l,n)}).error(function(e,n){s.deferredHandler(e,l,n,i.instant("error_modifying"))})["finally"](function(){s.inprocess=!1}),l.promise},s.prototype.rename=function(n,t,a){var s=this,l=r.defer(),o={action:"rename",item:t,newItemPath:a};return s.inprocess=!0,s.error="",e.post(n,o).success(function(e,n){s.deferredHandler(e,l,n)}).error(function(e,n){s.deferredHandler(e,l,n,i.instant("error_renaming"))})["finally"](function(){s.inprocess=!1}),l.promise},s.prototype.getUrl=function(e,r,t){var i={action:"download",path:r,objectId:t};return r&&[e,n.param(i)].join("?")},s.prototype.download=function(n,a,s,l,o,d){var c=this,p=this.getUrl(n,a,l);if(!o||d||!t.saveAs)return!t.saveAs&&t.console.log("Your browser dont support ajax download, downloading by default"),!!t.open(p,"_blank","");var m=r.defer();return c.inprocess=!0,e.get(p).success(function(e){var n=new t.Blob([e]);m.resolve(e),t.saveAs(n,s)}).error(function(e,n){c.deferredHandler(e,m,n,i.instant("error_downloading"))})["finally"](function(){c.inprocess=!1}),m.promise},s.prototype.downloadMultiple=function(a,s,l,o,d){var c=this,p=r.defer(),m={action:"downloadMultiple",items:s,toFilename:l},u=[a,n.param(m)].join("?");return o&&!d&&t.saveAs?(c.inprocess=!0,e.get(a).success(function(e){var n=new t.Blob([e]);p.resolve(e),t.saveAs(n,l)}).error(function(e,n){c.deferredHandler(e,p,n,i.instant("error_downloading"))})["finally"](function(){c.inprocess=!1}),p.promise):(!t.saveAs&&t.console.log("Your browser dont support ajax download, downloading by default"),!!t.open(u,"_blank",""))},s.prototype.compress=function(n,t,a,s){var l=this,o=r.defer(),d={action:"compress",items:t,destination:s,compressedFilename:a};return l.inprocess=!0,l.error="",e.post(n,d).success(function(e,n){l.deferredHandler(e,o,n)}).error(function(e,n){l.deferredHandler(e,o,n,i.instant("error_compressing"))})["finally"](function(){l.inprocess=!1}),o.promise},s.prototype.extract=function(n,t,a,s){var l=this,o=r.defer(),d={action:"extract",item:t,destination:s,folderName:a};return l.inprocess=!0,l.error="",e.post(n,d).success(function(e,n){l.deferredHandler(e,o,n)}).error(function(e,n){l.deferredHandler(e,o,n,i.instant("error_extracting"))})["finally"](function(){l.inprocess=!1}),o.promise},s.prototype.changePermissions=function(n,t,a,s,l){var o=this,d=r.defer(),c={action:"changePermissions",items:t,perms:a,permsCode:s,recursive:!!l};return o.inprocess=!0,o.error="",e.post(n,c).success(function(e,n){o.deferredHandler(e,d,n)}).error(function(e,n){o.deferredHandler(e,d,n,i.instant("error_changing_perms"))})["finally"](function(){o.inprocess=!1}),d.promise},s.prototype.createFolder=function(n,t,a){var s=this,l=r.defer(),o={action:"createFolder",newPath:t,maxSectionLength:a};return s.inprocess=!0,s.error="",e.post(n,o).success(function(e,n){s.deferredHandler(e,l,n)}).error(function(e,n){409==n?s.deferredHandler(e,l,n,i.instant("error_creating_folder_already_exists")):s.deferredHandler(e,l,n,i.instant("error_creating_folder"))})["finally"](function(){s.inprocess=!1}),l.promise},s.prototype.startReportGeneration=function(n,t){var a=this,s=r.defer(),l=t;return a.inprocess=!0,a.error="",e.post(n,l).success(function(e,n){a.deferredHandler({result:e},s,n)}).error(function(e,n){409===n?a.deferredHandler(e,s,n,i.instant("error_not_unique_report_name")):a.deferredHandler(e,s,n,i.instant("error_starting_report_generation"))})["finally"](function(){a.inprocess=!1}),s.promise},s.prototype.startBatchReportGeneration=function(n,t){var a=this,s=r.defer(),l=t;return a.inprocess=!0,a.error="",e.post(n,l).success(function(e,n){a.deferredHandler({result:e},s,n)}).error(function(e,n){a.deferredHandler(e,s,n,i.instant("error_starting_batch_report_generation"))})["finally"](function(){a.inprocess=!1}),s.promise},s.prototype.listReports=function(n,t){var a=this,s=r.defer(),l={method:"POST",url:n,headers:{"Content-Type":"text/plain"},data:t};return a.inprocess=!0,a.error="",e(l).success(function(e,n){a.deferredHandler({result:e},s,n)}).error(function(e,n){a.deferredHandler(e,s,n,i.instant("error_listing_reports"))})["finally"](function(){a.inprocess=!1}),s.promise},s.prototype.isAuthenticated=function(n){var t=this,a=r.defer();if(void 0===n||""===n)return a.promise;var s={method:"GET",url:n};return t.inprocess=!0,t.error="",e(s).success(function(e,n){t.deferredHandler({result:e},a,n)}).error(function(e,n){t.deferredHandler(e,a,n,i.instant("error_authenticating_user"))})["finally"](function(){t.inprocess=!1}),a.promise},s}])}(angular,jQuery),function(e){"use strict";e.module("FileManagerApp").service("apiMiddleware",["$window","fileManagerConfig","apiHandler",function(e,n,r){var t=function(){this.apiHandler=new r};return t.prototype.getPath=function(e){return"/"+e.join("/")},t.prototype.getFileList=function(e){return(e||[]).map(function(e){return e&&e.model.fullPath()})},t.prototype.getFilePath=function(e){return e&&e.model.fullPath()},t.prototype.list=function(e,r,t){return this.apiHandler.list(n.listUrl,this.getPath(e),r,t)},t.prototype.copy=function(e,r){var t=this.getFileList(e),i=1===t.length?e[0].tempModel.name:void 0;return this.apiHandler.copy(n.copyUrl,t,this.getPath(r),i)},t.prototype.move=function(e,r){var t=this.getFileList(e);return this.apiHandler.move(n.moveUrl,t,this.getPath(r))},t.prototype.remove=function(e){var r=this.getFileList(e);return this.apiHandler.remove(n.removeUrl,r)},t.prototype.checkBeforeRemove=function(e){var r=this.getFileList(e);return this.apiHandler.checkBeforeRemove(n.checkBeforeRemoveUrl,r)},t.prototype.upload=function(r,t){if(!e.FormData)throw new Error("Unsupported browser version");var i=this.getPath(t);return this.apiHandler.upload(n.uploadUrl,i,r)},t.prototype.getContent=function(e){var r=this.getFilePath(e);return this.apiHandler.getContent(n.getContentUrl,r)},t.prototype.edit=function(e){var r=this.getFilePath(e);return this.apiHandler.edit(n.editUrl,r,e.tempModel.content)},t.prototype.rename=function(e){var r=this.getFilePath(e),t=e.tempModel.fullPath();return this.apiHandler.rename(n.renameUrl,r,t)},t.prototype.getUrl=function(e){var r=this.getFilePath(e);return this.apiHandler.getUrl(n.downloadFileUrl,r)},t.prototype.download=function(e,r){var t=this.getFilePath(e),i=e.model.name,a=e.model.objectId;if(!e.isFolder())return this.apiHandler.download(n.downloadFileUrl,t,i,a,n.downloadFilesByAjax,r)},t.prototype.downloadMultiple=function(e,r){var t=this.getFileList(e),i=(new Date).getTime().toString().substr(8,13),a=i+"-"+n.multipleDownloadFileName;return this.apiHandler.downloadMultiple(n.downloadMultipleUrl,t,a,n.downloadFilesByAjax,r)},t.prototype.compress=function(e,r,t){var i=this.getFileList(e);return this.apiHandler.compress(n.compressUrl,i,r,this.getPath(t))},t.prototype.extract=function(e,r,t){var i=this.getFilePath(e);return this.apiHandler.extract(n.extractUrl,i,r,this.getPath(t))},t.prototype.changePermissions=function(e,r){var t=this.getFileList(e),i=r.tempModel.perms.toCode(),a=r.tempModel.perms.toOctal(),s=!!r.tempModel.recursive;return this.apiHandler.changePermissions(n.permissionsUrl,t,i,a,s)},t.prototype.createFolder=function(e){var r=e.tempModel.fullPath(),t=e.tempModel.maxSectionLength;return this.apiHandler.createFolder(n.createFolderUrl,r,t)},t.prototype.startReportGeneration=function(e){return this.apiHandler.startReportGeneration(n.reportGenerationUrl,e)},t.prototype.startBatchReportGeneration=function(e){return this.apiHandler.startBatchReportGeneration(n.batchReportGenerationUrl,e)},t.prototype.listReports=function(e){return this.apiHandler.listReports(n.reportListUrl,e)},t.prototype.isAuthenticated=function(e){return this.apiHandler.isAuthenticated(n.authenticationUrl)},t}])}(angular),function(e){"use strict";e.module("FileManagerApp").service("fileNavigator",["apiMiddleware","fileManagerConfig","item",function(n,r,t){var i=function(){this.apiMiddleware=new n,this.requesting=!1,this.fileList=[],this.currentPath=[],this.history=[],this.error="",this.onRefresh=function(){}};return i.prototype.deferredHandler=function(e,n,r,t){
return e&&"object"==typeof e||t||(this.error="Error %s - Bridge response error, please check the API docs or this ajax response.".replace("%s",r)),404==r&&(this.error="Error 404 - Backend bridge is not working, please check the ajax response."),e&&e.result&&e.result.error&&(this.error=e.result.error),!this.error&&e&&e.error&&(this.error=e.error.message),!this.error&&t&&(this.error=t),this.error?n.reject(e):n.resolve(e)},i.prototype.list=function(e){return this.apiMiddleware.list(this.currentPath,this.deferredHandler.bind(this),e)},i.prototype.initCurrentPath=function(e){return this.currentPath=e},i.prototype.refresh=function(){var e=this;void 0!==e.currentPath&&void 0!==e.currentPath.length&&0!==e.currentPath.length||(e.currentPath=[]);var n=e.currentPath.join("/");return e.requesting=!0,e.fileList=[],e.list().then(function(r){e.fileList=(r.result||[]).map(function(n){return new t(n,e.currentPath)}),e.buildTree(n),e.onRefresh()})["finally"](function(){e.requesting=!1})},i.prototype.updateStatus=function(){var n=this;n.apiMiddleware.isAuthenticated().then(function(r){if(void 0!==r.result&&void 0!==r.result.userId){void 0!==n.currentPath&&void 0!==n.currentPath.length&&0!==n.currentPath.length||(n.currentPath=[]);var t=(n.currentPath.join("/"),(new Date).getTime()-1e4);return n.list(t).then(function(r){r.result&&r.result.length>0&&e.forEach(r.result,function(r){e.forEach(n.fileList,function(e){e.model.name===r.name&&(e.model.modificationDate=new Date(r.modificationDate),e.model.processingStatus=r.processingStatus)})})})["finally"](function(){})}},function(e){})},i.prototype.buildTree=function(e){function n(e,r,t){var i=t?t+"/"+r.model.name:r.model.name;if(e.name&&e.name.trim()&&0!==t.trim().indexOf(e.name)&&(e.nodes=[]),e.name!==t)e.nodes.forEach(function(e){n(e,r,t)});else{for(var a in e.nodes)if(e.nodes[a].name===i)return;e.nodes.push({item:r,name:i,nodes:[]})}e.nodes=e.nodes.sort(function(e,n){return e.name.toLowerCase()<n.name.toLowerCase()?-1:e.name.toLowerCase()===n.name.toLowerCase()?0:1})}function r(e,n){n.push(e);for(var t in e.nodes)r(e.nodes[t],n)}function i(e,n){return e.filter(function(e){return e.name===n})[0]}var a=[],s={};!this.history.length&&this.history.push({name:"",nodes:[]}),r(this.history[0],a),s=i(a,e),s&&(s.nodes=[]);for(var l in this.fileList){var o=this.fileList[l];o instanceof t&&o.isFolder()&&n(this.history[0],o,e)}},i.prototype.folderClick=function(e){this.currentPath=[],e&&e.isFolder()&&(this.currentPath=e.model.fullPath().split("/").splice(1)),this.refresh()},i.prototype.upDir=function(){this.currentPath[0]&&(this.currentPath=this.currentPath.slice(0,-1),this.refresh())},i.prototype.goTo=function(e){this.currentPath=this.currentPath.slice(0,e+1),this.refresh()},i.prototype.fileNameExists=function(e){return this.fileList.find(function(n){return e.trim&&n.model.name.trim()===e.trim()})},i.prototype.listHasFolders=function(){return this.fileList.find(function(e){return"dir"===e.model.type})},i}])}(angular),angular.module("FileManagerApp").run(["$templateCache",function(e){e.put("src/templates/current-folder-breadcrumb.html",'<ol class="breadcrumb">\r\n    <!--<li>\r\n        <a href="" ng-click="fileNavigator.goTo(-1)">\r\n            {{ config.appName }}\r\n        </a>\r\n    </li>-->\r\n\r\n    <li ng-repeat="(key, dir) in fileNavigator.currentPath track by key" ng-class="{\'active\':$last}" class="animated fast fadeIn">\r\n        <!-- <a href="" ng-show="!$last" ng-click="fileNavigator.goTo(key)"> -->\r\n        <a href="" ng-show="!$last" ng-click="goTo(key)">\r\n            {{ translateDirName(dir) | strLimit : 30}}\r\n        </a>\r\n        <span ng-show="$last">\r\n            {{ translateDirName(dir) }}\r\n        </span>\r\n    </li>\r\n</ol>\r\n'),e.put("src/templates/description.html",'<div ng-cloak class="details">\r\n\r\n  <uib-accordion close-others="false" class="accordion-custom">\r\n    <div uib-accordion-group class="panel-default"\r\n      ng-if="temps[0].model.type === \'file\' && temps[0].model.processingStatus === \'processed\'"\r\n      is-open="isReportOpen">\r\n      <uib-accordion-heading>\r\n        {{ \'report\' | translate }}\r\n      </uib-accordion-heading>\r\n      <div class="text-center">\r\n        <button tabindex="-1" class="btn btn-primary btn-xs" ng-click="modal(\'startreportgeneration\') && prepareReportGeneration()">\r\n          <i class="glyphicon glyphicon-play"></i> {{\'startreportgeneration\' | translate}}\r\n        </button>\r\n      </div>\r\n      <div class="report-data" ng-repeat="report in currentReports | orderBy:\'-startTime\' | limitTo:getReportLimit() track by $index" ng-if="currentReports">\r\n        <div class="row">\r\n          <div class="col-sm-12">\r\n            {{ report.reportName }}\r\n            <span ng-if="report.reportStatus === \'SUCCESS\'" ng-class="getClassForScore(report.overallScore)">{{ report.overallScore * 100 | number:0}}%</span>\r\n          </div>\r\n        </div>\r\n\r\n        <div class="row">\r\n          <div class="col-sm-12">\r\n              <label>{{ \'startTime\' | translate }}</label>\r\n          </div>\r\n          <div class="col-sm-12">\r\n              {{ report.startTime | date:\'yyyy-MM-dd HH:mm:ss\' }}\r\n          </div>\r\n        </div>\r\n\r\n        <div class="row">\r\n          <div class="col-sm-12">\r\n              <label>{{ \'REPORT_STATUS.NAME\' | translate }}</label>\r\n          </div>\r\n          <div class="col-sm-12">\r\n              {{ \'REPORT_STATUS.\' + report.reportStatus | translate }}\r\n          </div>\r\n        </div>\r\n\r\n        <div class="text-center">\r\n          <button tabindex="-1" class="btn btn-default btn-xs" ng-click="openReport(report.reportId)" ng-disabled="report.reportStatus !== \'SUCCESS\'">\r\n            {{\'view_report\' | translate}}\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <div ng-if="currentReports.length > reportLimit && isLimited"><a href="" ng-click="toggleFullReportList()">{{ \'showmorereports\' | translate}}</a></div>\r\n      <div ng-if="currentReports.length > reportLimit && !isLimited"><a href="" ng-click="toggleFullReportList()">{{ \'showlessreports\' | translate}}</a></div>\r\n    </div>\r\n    <div uib-accordion-group class="panel-default accordion-custom"\r\n      is-open="isDescriptionOpen">\r\n      <uib-accordion-heading>\r\n        {{ \'description\' | translate }}\r\n      </uib-accordion-heading>\r\n      <div class="row">\r\n        <div class="col-sm-12">\r\n            <label>{{ \'name\' | translate }}</label>\r\n        </div>\r\n\r\n        <div class="col-sm-12 filename">\r\n            {{ temps.length ? (temps[0].model.name | translate) : "" }}\r\n        </div>\r\n      </div>\r\n\r\n      <div class="row">\r\n        <div class="col-sm-12">\r\n            <label>{{ \'owner\' | translate }}</label>\r\n        </div>\r\n\r\n        <div class="col-sm-12">\r\n            {{ temps.length ? temps[0].model.owner : "" }}\r\n        </div>\r\n      </div>\r\n\r\n      <div class="row">\r\n        <div class="col-sm-12">\r\n            <label>{{ \'size\' | translate }}</label>\r\n        </div>\r\n\r\n        <div class="col-sm-12">\r\n            {{ temps.length ?\r\n              (temps[0].model.size | humanReadableFileSize)  : "" }}\r\n        </div>\r\n\r\n      </div>\r\n\r\n      <div class="row">\r\n        <div class="col-sm-12">\r\n            <label>{{ \'date\' | translate }}</label>\r\n        </div>\r\n\r\n        <div class="col-sm-12">\r\n            {{ temps.length ?\r\n              (temps[0].model.creationDate | date:\'yyyy-MM-dd HH:mm:ss\') : "" }}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </uib-accordion>\r\n</div>\r\n'),e.put("src/templates/item-context-menu.html",'<div id="context-menu" class="dropdown clearfix animated fast fadeIn">\r\n    <ul class="dropdown-menu dropdown-right-click" role="menu" aria-labelledby="dropdownMenu" ng-show="temps.length">\r\n\r\n        <li ng-show="config.allowedActions.reportgeneration && singleSelection() && !singleSelection().isFolder() && singleSelection().model.processingStatus === \'processed\'">\r\n            <a href="" tabindex="-1" ng-click="modal(\'startreportgeneration\')">\r\n                <i class="glyphicon glyphicon-play"></i> {{\'startreportgeneration\' | translate}}\r\n            </a>\r\n        </li>\r\n\r\n        <li ng-show="config.allowedActions.reportgeneration && !singleSelection() && !selectionHasOtherStatusThan(\'processed\')">\r\n            <a href="" tabindex="-1" ng-click="modal(\'startbatchreportgeneration\')">\r\n                <i class="glyphicon glyphicon-play"></i> {{\'startbatchreportgeneration\' | translate}}\r\n            </a>\r\n        </li>\r\n\r\n        <li ng-show="singleSelection() && singleSelection().isFolder()">\r\n            <a href="" tabindex="-1" ng-click="smartClick(singleSelection())">\r\n                <i class="glyphicon glyphicon-folder-open"></i> {{\'open\' | translate}}\r\n            </a>\r\n        </li>\r\n\r\n        <li ng-show="config.pickCallback && singleSelection() && singleSelection().isSelectable()">\r\n            <a href="" tabindex="-1" ng-click="config.pickCallback(singleSelection().model)">\r\n                <i class="glyphicon glyphicon-hand-up"></i> {{\'select_this\' | translate}}\r\n            </a>\r\n        </li>\r\n\r\n        <li ng-show="config.allowedActions.download && !selectionHas(\'dir\') && singleSelection()">\r\n            <a href="" tabindex="-1" ng-click="download()">\r\n                <i class="glyphicon glyphicon-cloud-download"></i> {{\'download\' | translate}}\r\n            </a>\r\n        </li>\r\n\r\n        <li ng-show="config.allowedActions.downloadMultiple && !selectionHas(\'dir\') && !singleSelection()">\r\n            <a href="" tabindex="-1" ng-click="download()">\r\n                <i class="glyphicon glyphicon-cloud-download"></i> {{\'download_as_zip\' | translate}}\r\n            </a>\r\n        </li>\r\n\r\n        <li ng-show="config.allowedActions.preview && singleSelection().isImage() && singleSelection()">\r\n            <a href="" tabindex="-1" ng-click="openImagePreview()">\r\n                <i class="glyphicon glyphicon-picture"></i> {{\'view_item\' | translate}}\r\n            </a>\r\n        </li>\r\n\r\n        <li ng-show="config.allowedActions.rename && singleSelection() && allowActionsWithSingleSelection()">\r\n            <a href="" tabindex="-1" ng-click="modal(\'rename\')">\r\n                <i class="glyphicon glyphicon-edit"></i> {{\'rename\' | translate}}\r\n            </a>\r\n        </li>\r\n\r\n        <li ng-show="config.allowedActions.move && (allowActionsWithSingleSelection() || allowActionsWithMultiSelection())">\r\n            <a href="" tabindex="-1" ng-click="modalWithPathSelector(\'move\')">\r\n                <i class="glyphicon glyphicon-arrow-right"></i> {{\'move\' | translate}}\r\n            </a>\r\n        </li>\r\n\r\n        <li ng-show="config.allowedActions.copy && !selectionHas(\'dir\')">\r\n            <a href="" tabindex="-1" ng-click="modalWithPathSelector(\'copy\')">\r\n                <i class="glyphicon glyphicon-log-out"></i> {{\'copy\' | translate}}\r\n            </a>\r\n        </li>\r\n\r\n        <li ng-show="config.allowedActions.edit && singleSelection() && singleSelection().isEditable()">\r\n            <a href="" tabindex="-1" ng-click="openEditItem()">\r\n                <i class="glyphicon glyphicon-pencil"></i> {{\'edit\' | translate}}\r\n            </a>\r\n        </li>\r\n\r\n        <li ng-show="config.allowedActions.changePermissions">\r\n            <a href="" tabindex="-1" ng-click="modal(\'changepermissions\')">\r\n                <i class="glyphicon glyphicon-lock"></i> {{\'permissions\' | translate}}\r\n            </a>\r\n        </li>\r\n\r\n        <li ng-show="config.allowedActions.compress && (!singleSelection() || selectionHas(\'dir\'))">\r\n            <a href="" tabindex="-1" ng-click="modal(\'compress\')">\r\n                <i class="glyphicon glyphicon-compressed"></i> {{\'compress\' | translate}}\r\n            </a>\r\n        </li>\r\n\r\n        <li ng-show="config.allowedActions.extract && singleSelection() && singleSelection().isExtractable()">\r\n            <a href="" tabindex="-1" ng-click="modal(\'extract\')">\r\n                <i class="glyphicon glyphicon-export"></i> {{\'extract\' | translate}}\r\n            </a>\r\n        </li>\r\n\r\n        <li class="divider" ng-show="config.allowedActions.remove && (allowActionsWithSingleSelection() || allowActionsWithMultiSelection())"></li>\r\n\r\n        <li ng-show="config.allowedActions.remove && (allowActionsWithSingleSelection() || allowActionsWithMultiSelection())">\r\n            <a href="" tabindex="-1" ng-click="modal(\'remove\')">\r\n                <i class="glyphicon glyphicon-trash"></i> {{\'remove\' | translate}}\r\n            </a>\r\n        </li>\r\n\r\n    </ul>\r\n\r\n    <ul class="dropdown-menu dropdown-right-click" role="menu" aria-labelledby="dropdownMenu" ng-show="!temps.length">\r\n        <li ng-show="config.allowedActions.createFolder">\r\n            <a href="" tabindex="-1" ng-click="prepareNewFolder() && modal(\'newfolder\')">\r\n                <i class="glyphicon glyphicon-plus"></i> {{\'new_folder\' | translate}}\r\n            </a>\r\n        </li>\r\n        <li ng-show="config.allowedActions.upload">\r\n            <a href="" tabindex="-1" ng-click="modal(\'uploadfile\')">\r\n                <i class="glyphicon glyphicon-cloud-upload"></i> {{\'upload_files\' | translate}}\r\n            </a>\r\n        </li>\r\n    </ul>\r\n</div>\r\n'),e.put("src/templates/main-icons.html",'<div class="iconset noselect">\r\n    <div class="item-list clearfix" ng-click="selectOrUnselect(null, $event)" ng-right-click="selectOrUnselect(null, $event)" prevent="true">\r\n        <div class="col-120" ng-repeat="item in $parent.fileList = (fileNavigator.fileList | filter: {model:{name: query}}) track by $index" ng-show="!fileNavigator.requesting && !fileNavigator.error">\r\n            <a href="" class="thumbnail text-center" ng-click="selectOrUnselect(item, $event)" ng-dblclick="smartClick(item)" ng-right-click="selectOrUnselect(item, $event)" title="{{item.model.name}} ({{item.model.size | humanReadableFileSize}})" ng-class="{selected: isSelected(item)}">\r\n                <div class="item-icon">\r\n                    <i class="glyphicon glyphicon-folder-open" ng-show="item.model.type === \'dir\'"></i>\r\n                    <i class="glyphicon glyphicon-file" data-ext="{{ item.model.name | fileExtension }}" ng-show="item.model.type === \'file\'" ng-class="{\'item-extension\': config.showExtensionIcons}"></i>\r\n                </div>\r\n                {{item.model.name | translate | strLimit : 11 }}\r\n            </a>\r\n        </div>\r\n    </div>\r\n\r\n    <div ng-show="fileNavigator.requesting">\r\n        <div ng-include="config.tplPath + \'/spinner.html\'"></div>\r\n    </div>\r\n\r\n    <div class="alert alert-warning" ng-show="!fileNavigator.requesting && fileNavigator.fileList.length < 1 && !fileNavigator.error">\r\n        {{"no_files_in_folder" | translate}}\r\n    </div>\r\n\r\n    <div class="alert alert-danger" ng-show="!fileNavigator.requesting && fileNavigator.error">\r\n        {{ fileNavigator.error }}\r\n    </div>\r\n</div>\r\n'),e.put("src/templates/main-table-modal.html",'<table class="table table-condensed table-modal-condensed mb0">\r\n    <thead>\r\n        <tr>\r\n            <th>\r\n                <a href="" ng-click="order(\'model.name\')">\r\n                    {{"name" | translate}}\r\n                    <span class="sortorder" ng-show="predicate[1] === \'model.name\'" ng-class="{reverse:reverse}"></span>\r\n                </a>\r\n            </th>\r\n            <th class="text-right"></th>\r\n        </tr>\r\n    </thead>\r\n    <tbody class="file-item">\r\n        <tr ng-show="fileNavigator.requesting">\r\n            <td colspan="2">\r\n                <div ng-include="config.tplPath + \'/spinner.html\'"></div>\r\n            </td>\r\n        </tr>\r\n        <tr ng-show="!fileNavigator.requesting && !fileNavigator.listHasFolders() && !fileNavigator.error">\r\n            <td>\r\n                {{"no_folders_in_folder" | translate}}...\r\n            </td>\r\n            <!--<td class="text-right">\r\n                <button class="btn btn-sm btn-default" ng-click="fileNavigator.upDir()">{{"go_back" | translate}}</button>\r\n            </td>-->\r\n        </tr>\r\n        <tr ng-show="!fileNavigator.requesting && fileNavigator.error">\r\n            <td colspan="2">\r\n                {{ fileNavigator.error }}\r\n            </td>\r\n        </tr>\r\n        <tr ng-repeat="item in fileNavigator.fileList | orderBy:predicate:reverse track by $index" ng-show="!fileNavigator.requesting && item.model.type === \'dir\'" ng-if="!selectedFilesAreChildOfPath(item)">\r\n            \r\n            <td>\r\n                <input type="checkbox"\r\n                  value="{{item.model.name}}"\r\n                  ng-checked="isChecked(item)"\r\n                  ng-click="toggleSelection(item)" />\r\n\r\n                <a href="" ng-click="fileNavigator.folderClick(item)" title="{{item.model.name}} ({{item.model.size | humanReadableFileSize}})">\r\n                    <i class="glyphicon glyphicon-folder-close"></i>\r\n                    {{item.model.nameVariables && item.model.nameVariables.organizationName ? item.model.nameVariables.organizationName : item.model.name | translate | strLimit : 32}}\r\n                    <!--{{ translateDirName(item.model.name) }}-->\r\n                </a>\r\n                <i uib-tooltip="{{\'different_section_length\' | translate}}: {{item.model.maxSectionLength}}" ng-if="item.model.maxSectionLength !== currentFolder.sectionLength" class="fa fa-exclamation-circle" aria-hidden="true" style="color:#f36621"></i>\r\n            </td>\r\n            <!--<td class="text-right">\r\n                \r\n                <button class="btn btn-sm btn-default" ng-click="select(item)">\r\n                    <i class="glyphicon glyphicon-hand-up"></i> {{"select_this" | translate}}\r\n                </button>\r\n            </td>-->\r\n        </tr>\r\n    </tbody>\r\n</table>\r\n'),e.put("src/templates/main-table.html",'<table class="table mb0 table-files noselect">\r\n    <thead>\r\n        <tr>\r\n            <th>\r\n                <a href="" ng-click="order(\'model.name\')">\r\n                    {{"name" | translate}}\r\n                    <span class="sortorder" ng-show="predicate[1] === \'model.name\'" ng-class="{reverse:reverse}"></span>\r\n                </a>\r\n            </th>\r\n            <th class="hidden-xs" ng-hide="config.hideSize">\r\n                <a href="" ng-click="order(\'model.size\')">\r\n                    {{"size" | translate}}\r\n                    <span class="sortorder" ng-show="predicate[1] === \'model.size\'" ng-class="{reverse:reverse}"></span>\r\n                </a>\r\n            </th>\r\n            <th class="hidden-sm hidden-xs" ng-hide="config.hideDate">\r\n                <a href="" ng-click="order(\'model.\' + dateType)">\r\n                    {{"date" | translate}}\r\n                    <span class="sortorder" ng-show="predicate[1] === \'model.\' + dateType" ng-class="{reverse:reverse}"></span>\r\n                </a>\r\n                <select class="date-table-header" ng-model="dateType" ng-init="dateType = \'creationDate\'" required>\r\n                    <option value="creationDate">{{\'creationDate\' | translate}}</option>\r\n                    <option value="modificationDate">{{\'modificationDate\' | translate}}</option>\r\n                </select>\r\n            </th>\r\n            <th class="hidden-sm hidden-xs" ng-hide="config.hidePermissions">\r\n                <a href="" ng-click="order(\'model.permissions\')">\r\n                    {{"permissions" | translate}}\r\n                    <span class="sortorder" ng-show="predicate[1] === \'model.permissions\'" ng-class="{reverse:reverse}"></span>\r\n                </a>\r\n            </th>\r\n            <th class="hidden-sm hidden-xs" ng-hide="config.hideProcessingStatus">\r\n\t            <a href="" ng-click="order(\'model.processingStatus\')">\r\n                    {{"processingStatus" | translate}}\r\n                    <span class="sortorder" ng-show="predicate[1] === \'model.processingStatus\'" ng-class="{reverse:reverse}"></span>\r\n                </a>\r\n            </th>\r\n            <th class="hidden-sm hidden-xs" ng-hide="config.hideOwner || shouldDescriptionBeOpen()">\r\n\t            <a href="" ng-click="order(\'model.owner\')">\r\n                    {{"owner" | translate}}\r\n                    <span class="sortorder" ng-show="predicate[1] === \'model.owner\'" ng-class="{reverse:reverse}"></span>\r\n                </a>\r\n            </th>\r\n\r\n            <th class="hidden-xs" ng-hide="config.hideMaxSectionLength">\r\n                <a href="" ng-click="order(\'model.maxSectionLength\')">\r\n                    {{"max_section_length" | translate}}\r\n                    <span class="sortorder" ng-show="predicate[1] === \'model.maxSectionLength\'" ng-class="{reverse:reverse}"></span>\r\n                </a>\r\n            </th>\r\n\r\n        </tr>\r\n    </thead>\r\n    <tbody class="file-item">\r\n        <tr ng-show="fileNavigator.requesting">\r\n            <td colspan="5">\r\n                <div ng-include="config.tplPath + \'/spinner.html\'"></div>\r\n            </td>\r\n        </tr>\r\n        <tr ng-show="!fileNavigator.requesting &amp;&amp; fileNavigator.fileList.length < 1 &amp;&amp; !fileNavigator.error">\r\n            <td colspan="5">\r\n                {{"no_files_in_folder" | translate}}\r\n            </td>\r\n        </tr>\r\n        <tr ng-show="!fileNavigator.requesting &amp;&amp; fileNavigator.error">\r\n            <td colspan="5">\r\n                {{ fileNavigator.error }}\r\n            </td>\r\n        </tr>\r\n        <tr class="item-list" ng-repeat="item in $parent.fileList = (fileNavigator.fileList | filter: {model:{name: query}} | orderBy:predicate:reverse) track by $index" ng-show="!fileNavigator.requesting" ng-click="selectOrUnselect(item, $event)" ng-dblclick="smartClick(item)" ng-right-click="selectOrUnselect(item, $event)" ng-class="{selected: isSelected(item)}">\r\n            <td>\r\n                <a href="" title="{{item.model.name}} ({{item.model.size | humanReadableFileSize}})">\r\n                    <i class="glyphicon glyphicon-folder-close" ng-show="item.model.type === \'dir\'"></i>\r\n                    <i class="glyphicon glyphicon-file" ng-show="item.model.type === \'file\'"></i>\r\n                    {{ translateItem(item) | translate | strLimit : 64}}\r\n                </a>\r\n            </td>\r\n            <td class="hidden-xs">\r\n                <span ng-show="item.model.type !== \'dir\' || (config.showSizeForDirectories && !config.hideSize)">\r\n                    {{item.model.size | humanReadableFileSize}}\r\n                </span>\r\n            </td>\r\n            <td class="hidden-sm hidden-xs" ng-hide="config.hideDate">\r\n                {{item.model[dateType] | date:\'yyyy-MM-dd HH:mm:ss\'}}\r\n            </td>\r\n            <td class="hidden-sm hidden-xs" ng-hide="config.hidePermissions">\r\n                {{item.model.perms.toCode(item.model.type === \'dir\'?\'d\':\'-\')}}\r\n            </td>\r\n            <td class="hidden-sm hidden-xs" ng-hide="config.hideProcessingStatus">\r\n                {{item.model.processingStatus | translate}}\r\n            </td>\r\n            <td class="hidden-sm hidden-xs" ng-hide="config.hideOwner || shouldDescriptionBeOpen()">\r\n                {{item.model.owner}}\r\n            </td>\r\n            <td class="hidden-xs">\r\n                <span ng-show="!config.hideMaxSectionLength">\r\n                    {{item.model.maxSectionLength}}\r\n                </span>\r\n            </td>\r\n        </tr>\r\n    </tbody>\r\n</table>\r\n'),e.put("src/templates/main.html",'<div ng-controller="FileManagerCtrl" ngf-drop="addForUpload($files)" ngf-drag-over-class="\'upload-dragover\'" ngf-multiple="true">\r\n    <div ng-include="config.tplPath + \'/navbar.html\'"></div>\r\n\r\n    <div class="container-fluid">\r\n        <div class="row">\r\n\r\n            <div class="hidden-xs col-sm-4 col-md-2 sidebar file-tree animated slow fadeIn" ng-include="config.tplPath + \'/sidebar.html\'"\r\n              ng-show="config.sidebar &amp;&amp; fileNavigator.history[0]">\r\n            </div>\r\n\r\n            <div class="main" ng-class="[{\'col-sm-8 col-md-8\' : (config.sidebar &amp;&amp; fileNavigator.history[0] &amp;&amp; shouldDescriptionBeOpen())},\r\n            {\'col-sm-8 col-md-10\' : (config.sidebar &amp;&amp; fileNavigator.history[0] &amp;&amp; !shouldDescriptionBeOpen())}]">\r\n                <div ng-include="config.tplPath + \'/\' + viewTemplate" class="main-navigation clearfix"></div>\r\n            </div>\r\n\r\n            <div class="description hidden-xs hidden-sm col-md-2" ng-if="shouldDescriptionBeOpen()">\r\n                <div ng-include="config.tplPath + \'/description.html\'" class="main-navigation clearfix"></div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div ng-include="config.tplPath + \'/modals.html\'"></div>\r\n    <div ng-include="config.tplPath + \'/item-context-menu.html\'"></div>\r\n</div>\r\n'),e.put("src/templates/modals.html",'<div class="modal animated fadeIn" id="imagepreview">\r\n  <div class="modal-dialog">\r\n    <div class="modal-content">\r\n      <div class="modal-header">\r\n        <button type="button" class="close" data-dismiss="modal">\r\n            <span aria-hidden="true">&times;</span>\r\n            <span class="sr-only">{{"close" | translate}}</span>\r\n        </button>\r\n        <h4 class="modal-title">{{"preview" | translate}}</h4>\r\n      </div>\r\n      <div class="modal-body">\r\n        <div class="text-center">\r\n          <img id="imagepreview-target" class="preview" alt="{{singleSelection().model.name}}" ng-class="{\'loading\': apiMiddleware.apiHandler.inprocess}">\r\n          <span class="label label-warning" ng-show="apiMiddleware.apiHandler.inprocess">{{\'loading\' | translate}} ...</span>\r\n        </div>\r\n        <div ng-include data-src="\'error-bar\'" class="clearfix"></div>\r\n      </div>\r\n      <div class="modal-footer text-center">\r\n        <button type="button" class="btn btn-default btn-xs" data-dismiss="modal" ng-disabled="apiMiddleware.apiHandler.inprocess">{{"close" | translate}}</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<div class="modal animated fadeIn" id="startreportgeneration">\r\n  <div class="modal-dialog">\r\n    <div class="modal-content">\r\n      <div class="modal-header">\r\n        <button type="button" class="close" data-dismiss="modal">\r\n          <span aria-hidden="true">&times;</span>\r\n          <span class="sr-only">{{"close" | translate}}</span>\r\n        </button>\r\n        <h4 class="modal-title">{{"REPORT_GENERATION_MODAL.TITLE" | translate}}</h4>\r\n      </div>\r\n      <form name="reportForm" id="reportForm" ng-submit="startReportGeneration(report)" novalidate>\r\n        <div class="modal-body">\r\n\r\n          {{\'REPORT_GENERATION_MODAL.REPORT_NAME\' | translate}}\r\n          <input class="col-md-12" name="reportTitle" type="text" ng-model="report.reportName" required/>\r\n          <label name="target" class="col-md-12" >{{\'REPORT_GENERATION_MODAL.REPORT_TARGET\' | translate}}</label>\r\n\r\n          <label class="col-xs-12">\r\n            <input type="checkbox" ng-model="report.reportSettings.myFiles"/>\r\n            {{\'REPORT_GENERATION_MODAL.MY_FILES\' | translate}}\r\n            <a href="" class="label label-primary" ng-click="openNavigator([\'user\'])">\r\n              {{\'change\' | translate}}\r\n            </a>\r\n          </label>\r\n          <label class="col-xs-12">\r\n            <input type="checkbox" ng-model="report.reportSettings.institutionFiles"/>\r\n            {{\'REPORT_GENERATION_MODAL.INSTITUTION_FILES\' | translate}}\r\n            <a href="" class="label label-primary" ng-click="openNavigator([\'organizations\'])">\r\n              {{\'change\' | translate}}\r\n            </a>\r\n          </label>\r\n          <label class="col-xs-12">\r\n            <input type="checkbox" ng-model="report.reportSettings.webResources"/>\r\n            {{\'REPORT_GENERATION_MODAL.WEB_RESOURCES\' | translate}}\r\n          </label>\r\n\r\n          <div ng-include data-src="\'error-bar\'" class="clearfix"></div>\r\n        </div>\r\n        <div class="modal-footer text-center">\r\n          <button class="btn btn-default btn-xs" type="button" data-dismiss="modal">{{"close" | translate}}</button>\r\n          <button class="btn btn-primary btn-xs" type="submit">{{"REPORT_GENERATION_MODAL.START_GENERATION" | translate}}</button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<div class="modal animated fadeIn" id="startbatchreportgeneration">\r\n  <div class="modal-dialog">\r\n    <div class="modal-content">\r\n      <div class="modal-header">\r\n        <button type="button" class="close" data-dismiss="modal">\r\n          <span aria-hidden="true">&times;</span>\r\n          <span class="sr-only">{{"close" | translate}}</span>\r\n        </button>\r\n        <h4 class="modal-title">{{"REPORT_GENERATION_MODAL.BATCH_TITLE" | translate}}</h4>\r\n      </div>\r\n      <form name="reportForm" id="reportForm" ng-submit="startBatchReportGeneration(report)" novalidate>\r\n        <div class="modal-body">\r\n\r\n          <span ng-include data-src="\'selected-files-msg\'"></span>\r\n\r\n          <label name="target" class="col-md-12" >{{\'REPORT_GENERATION_MODAL.REPORT_TARGET\' | translate}}</label>\r\n\r\n          <label class="col-xs-12">\r\n            <input type="checkbox" ng-model="report.reportSettings.myFiles"/>\r\n            {{\'REPORT_GENERATION_MODAL.MY_FILES\' | translate}}\r\n          </label>\r\n          <label class="col-xs-12">\r\n            <input type="checkbox" ng-model="report.reportSettings.institutionFiles"/>\r\n            {{\'REPORT_GENERATION_MODAL.INSTITUTION_FILES\' | translate}}\r\n          </label>\r\n          <label class="col-xs-12">\r\n            <input type="checkbox" ng-model="report.reportSettings.webResources"/>\r\n            {{\'REPORT_GENERATION_MODAL.WEB_RESOURCES\' | translate}}\r\n          </label>\r\n\r\n          <div ng-include data-src="\'error-bar\'" class="clearfix"></div>\r\n        </div>\r\n        <div class="modal-footer text-center">\r\n          <button class="btn btn-default btn-xs" type="button" data-dismiss="modal">{{"close" | translate}}</button>\r\n          <button class="btn btn-primary btn-xs" type="submit">{{"REPORT_GENERATION_MODAL.START_GENERATION" | translate}}</button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<div class="modal animated fadeIn" id="remove">\r\n  <div class="modal-dialog">\r\n    <div class="modal-content">\r\n    <form ng-submit="remove()">\r\n      <div class="modal-header">\r\n        <button type="button" class="close" data-dismiss="modal">\r\n            <span aria-hidden="true">&times;</span>\r\n            <span class="sr-only">{{"close" | translate}}</span>\r\n        </button>\r\n        <h4 class="modal-title">{{"confirm" | translate}}</h4>\r\n      </div>\r\n      <div class="modal-body">\r\n        {{\'sure_to_delete\' | translate}}\r\n        {{\'affected_files_and_reports\' | translate:removePreviewResult }}\r\n        <br/><span ng-include data-src="\'selected-files-msg\'"></span>\r\n\r\n        <div ng-include data-src="\'error-bar\'" class="clearfix"></div>\r\n      </div>\r\n      <div class="modal-footer text-center">\r\n        <button type="button" class="btn btn-default btn-xs" data-dismiss="modal" ng-disabled="apiMiddleware.apiHandler.inprocess">{{"cancel" | translate}}</button>\r\n        <button type="submit" class="btn btn-primary btn-xs" ng-disabled="apiMiddleware.apiHandler.inprocess" autofocus="autofocus">{{"remove" | translate}}</button>\r\n      </div>\r\n      </form>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<div class="modal animated fadeIn" id="move">\r\n  <div class="modal-dialog">\r\n    <div class="modal-content">\r\n        <form ng-submit="move()">\r\n            <div class="modal-header">\r\n              <button type="button" class="close" data-dismiss="modal">\r\n                  <span aria-hidden="true">&times;</span>\r\n                  <span class="sr-only">{{"close" | translate}}</span>\r\n              </button>\r\n              <h4 class="modal-title">{{\'move\' | translate}}</h4>\r\n            </div>\r\n            <div class="modal-body">\r\n              <div ng-include data-src="\'path-selector\'" class="clearfix"></div>\r\n              <div ng-include data-src="\'error-bar\'" class="clearfix"></div>\r\n            </div>\r\n            <div class="modal-footer text-center">\r\n              <button type="button" class="btn btn-default btn-xs" data-dismiss="modal" ng-disabled="apiMiddleware.apiHandler.inprocess">{{"cancel" | translate}}</button>\r\n              <button type="submit" class="btn btn-primary btn-xs" ng-disabled="apiMiddleware.apiHandler.inprocess">{{\'move\' | translate}}</button>\r\n            </div>\r\n        </form>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n\r\n<div class="modal animated fadeIn" id="rename">\r\n  <div class="modal-dialog">\r\n    <div class="modal-content">\r\n        <form ng-submit="rename()">\r\n            <div class="modal-header">\r\n              <button type="button" class="close" data-dismiss="modal">\r\n                  <span aria-hidden="true">&times;</span>\r\n                  <span class="sr-only">{{"close" | translate}}</span>\r\n              </button>\r\n              <h4 class="modal-title">{{\'rename\' | translate}}</h4>\r\n            </div>\r\n            <div class="modal-body">\r\n              <label class="radio">{{\'enter_new_name_for\' | translate}} <b>{{singleSelection() && singleSelection().model.name}}</b></label>\r\n              <input class="form-control" ng-model="singleSelection().tempModel.name" autofocus="autofocus">\r\n\r\n              <div ng-include data-src="\'error-bar\'" class="clearfix"></div>\r\n            </div>\r\n            <div class="modal-footer text-center">\r\n              <button type="button" class="btn btn-default btn-xs" data-dismiss="modal" ng-disabled="apiMiddleware.apiHandler.inprocess">{{"cancel" | translate}}</button>\r\n              <button type="submit" class="btn btn-primary btn-xs" ng-disabled="apiMiddleware.apiHandler.inprocess">{{\'rename\' | translate}}</button>\r\n            </div>\r\n        </form>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<div class="modal animated fadeIn" id="copy">\r\n  <div class="modal-dialog">\r\n    <div class="modal-content">\r\n        <form ng-submit="copy()">\r\n            <div class="modal-header">\r\n              <button type="button" class="close" data-dismiss="modal">\r\n                  <span aria-hidden="true">&times;</span>\r\n                  <span class="sr-only">{{"close" | translate}}</span>\r\n              </button>\r\n              <h4 class="modal-title">{{\'copy_file\' | translate}}</h4>\r\n            </div>\r\n            <div class="modal-body">\r\n              <div ng-show="singleSelection()">\r\n                <label class="radio">{{\'enter_new_name_for\' | translate}} <b>{{singleSelection().model.name}}</b></label>\r\n                <input class="form-control" ng-model="singleSelection().tempModel.name" autofocus="autofocus">\r\n              </div>\r\n\r\n              <div ng-include data-src="\'path-selector\'" class="clearfix"></div>\r\n              <div ng-include data-src="\'error-bar\'" class="clearfix"></div>\r\n            </div>\r\n            <div class="modal-footer text-center">\r\n              <button type="button" class="btn btn-default btn-xs" data-dismiss="modal" ng-disabled="apiMiddleware.apiHandler.inprocess">{{"cancel" | translate}}</button>\r\n              <button type="submit" class="btn btn-primary btn-xs" ng-disabled="apiMiddleware.apiHandler.inprocess">{{"copy" | translate}}</button>\r\n            </div>\r\n        </form>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<div class="modal animated fadeIn" id="compress">\r\n  <div class="modal-dialog">\r\n    <div class="modal-content">\r\n        <form ng-submit="compress()">\r\n            <div class="modal-header">\r\n              <button type="button" class="close" data-dismiss="modal">\r\n                  <span aria-hidden="true">&times;</span>\r\n                  <span class="sr-only">{{"close" | translate}}</span>\r\n              </button>\r\n              <h4 class="modal-title">{{\'compress\' | translate}}</h4>\r\n            </div>\r\n            <div class="modal-body">\r\n              <div ng-show="apiMiddleware.apiHandler.asyncSuccess">\r\n                  <div class="label label-success error-msg">{{\'compression_started\' | translate}}</div>\r\n              </div>\r\n              <div ng-hide="apiMiddleware.apiHandler.asyncSuccess">\r\n                  <div ng-hide="config.allowedActions.compressChooseName">\r\n                    {{\'sure_to_start_compression_with\' | translate}} <b>{{singleSelection().model.name | translate}}</b> ?\r\n                  </div>\r\n                  <div ng-show="config.allowedActions.compressChooseName">\r\n                    <label class="radio">\r\n                      {{\'enter_file_name_for_compression\' | translate}}\r\n                      <span ng-include data-src="\'selected-files-msg\'"></span>\r\n                    </label>\r\n                    <input class="form-control" ng-model="temp.tempModel.name" autofocus="autofocus">\r\n                  </div>\r\n              </div>\r\n\r\n              <div ng-include data-src="\'error-bar\'" class="clearfix"></div>\r\n            </div>\r\n            <div class="modal-footer text-center">\r\n              <div ng-show="apiMiddleware.apiHandler.asyncSuccess">\r\n                  <button type="button" class="btn btn-default btn-xs" data-dismiss="modal" ng-disabled="apiMiddleware.apiHandler.inprocess">{{"close" | translate}}</button>\r\n              </div>\r\n              <div ng-hide="apiMiddleware.apiHandler.asyncSuccess">\r\n                  <button type="button" class="btn btn-default btn-xs" data-dismiss="modal" ng-disabled="apiMiddleware.apiHandler.inprocess">{{"cancel" | translate}}</button>\r\n                  <button type="submit" class="btn btn-primary btn-xs" ng-disabled="apiMiddleware.apiHandler.inprocess">{{\'compress\' | translate}}</button>\r\n              </div>\r\n            </div>\r\n        </form>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<div class="modal animated fadeIn" id="extract" ng-init="singleSelection().emptyName()">\r\n  <div class="modal-dialog">\r\n    <div class="modal-content">\r\n        <form ng-submit="extract()">\r\n            <div class="modal-header">\r\n              <button type="button" class="close" data-dismiss="modal">\r\n                  <span aria-hidden="true">&times;</span>\r\n                  <span class="sr-only">{{"close" | translate}}</span>\r\n              </button>\r\n              <h4 class="modal-title">{{\'extract_item\' | translate}}</h4>\r\n            </div>\r\n            <div class="modal-body">\r\n              <div ng-show="apiMiddleware.apiHandler.asyncSuccess">\r\n                  <div class="label label-success error-msg">{{\'extraction_started\' | translate}}</div>\r\n              </div>\r\n              <div ng-hide="apiMiddleware.apiHandler.asyncSuccess">\r\n                  <label class="radio">{{\'enter_folder_name_for_extraction\' | translate}} <b>{{singleSelection().model.name | translate}}</b></label>\r\n                  <input class="form-control" ng-model="singleSelection().tempModel.name" autofocus="autofocus">\r\n              </div>\r\n              <div ng-include data-src="\'error-bar\'" class="clearfix"></div>\r\n            </div>\r\n            <div class="modal-footer text-center">\r\n              <div ng-show="apiMiddleware.apiHandler.asyncSuccess">\r\n                  <button type="button" class="btn btn-default btn-xs" data-dismiss="modal" ng-disabled="apiMiddleware.apiHandler.inprocess">{{"close" | translate}}</button>\r\n              </div>\r\n              <div ng-hide="apiMiddleware.apiHandler.asyncSuccess">\r\n                  <button type="button" class="btn btn-default btn-xs" data-dismiss="modal" ng-disabled="apiMiddleware.apiHandler.inprocess">{{"cancel" | translate}}</button>\r\n                  <button type="submit" class="btn btn-primary btn-xs" ng-disabled="apiMiddleware.apiHandler.inprocess">{{\'extract\' | translate}}</button>\r\n              </div>\r\n            </div>\r\n        </form>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<div class="modal animated fadeIn" id="edit" ng-class="{\'modal-fullscreen\': fullscreen}">\r\n  <div class="modal-dialog modal-lg">\r\n    <div class="modal-content">\r\n        <form ng-submit="edit()">\r\n            <div class="modal-header">\r\n              <button type="button" class="close" data-dismiss="modal">\r\n                  <span aria-hidden="true">&times;</span>\r\n                  <span class="sr-only">{{"close" | translate}}</span>\r\n              </button>\r\n              <button type="button" class="close fullscreen" ng-click="fullscreen=!fullscreen">\r\n                  <i class="glyphicon glyphicon-fullscreen"></i>\r\n                  <span class="sr-only">{{\'toggle_fullscreen\' | translate}}</span>\r\n              </button>\r\n              <h4 class="modal-title">{{\'edit_file\' | translate}}</h4>\r\n            </div>\r\n            <div class="modal-body">\r\n                <label class="radio bold">{{ singleSelection().model.fullPath() }}</label>\r\n                <span class="label label-warning" ng-show="apiMiddleware.apiHandler.inprocess">{{\'loading\' | translate}} ...</span>\r\n                <textarea class="form-control code" ng-model="singleSelection().tempModel.content" ng-show="!apiMiddleware.apiHandler.inprocess" autofocus="autofocus"></textarea>\r\n                <div ng-include data-src="\'error-bar\'" class="clearfix"></div>\r\n            </div>\r\n            <div class="modal-footer text-center">\r\n              <button type="button" class="btn btn-default btn-xs" data-dismiss="modal" ng-disabled="apiMiddleware.apiHandler.inprocess">{{\'close\' | translate}}</button>\r\n              <button type="submit" class="btn btn-primary btn-xs" ng-show="config.allowedActions.edit" ng-disabled="apiMiddleware.apiHandler.inprocess">{{\'edit\' | translate}}</button>\r\n            </div>\r\n        </form>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<div class="modal animated fadeIn" id="newfolder">\r\n  <div class="modal-dialog">\r\n    <div class="modal-content">\r\n        <form ng-submit="createFolder(currentFolder.sectionLength)">\r\n            <div class="modal-header">\r\n              <button type="button" class="close" data-dismiss="modal">\r\n                  <span aria-hidden="true">&times;</span>\r\n                  <span class="sr-only">{{"close" | translate}}</span>\r\n              </button>\r\n              <h4 class="modal-title">{{\'new_folder\' | translate}}</h4>\r\n            </div>\r\n            <div class="modal-body">\r\n              <div class="col-md-9">\r\n                <label class="radio">{{\'folder_name\' | translate}}</label>\r\n                <input class="form-control" ng-model="temps[0].tempModel.name" autofocus="autofocus">\r\n              </div>\r\n              <div class="col-md-3">\r\n                <label class="radio">{{\'max_section_length\' | translate}}</label>\r\n                <input class="form-control" ng-model="currentFolder.sectionLength" ng-disabled="(fileNavigator.currentPath[0] === \'user\' && fileNavigator.currentPath.length > 1) || (fileNavigator.currentPath[0] === \'organizations\' && fileNavigator.currentPath.length > 2)">\r\n              </div>\r\n\r\n              <div ng-include data-src="\'error-bar\'" class="clearfix"></div>\r\n            </div>\r\n            <div class="modal-footer text-center">\r\n              <button type="button" class="btn btn-default btn-xs" data-dismiss="modal" ng-disabled="apiMiddleware.apiHandler.inprocess">{{"cancel" | translate}}</button>\r\n              <button type="submit" class="btn btn-primary btn-xs" ng-disabled="apiMiddleware.apiHandler.inprocess">{{\'create\' | translate}}</button>\r\n            </div>\r\n        </form>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<div class="modal animated fadeIn" id="uploadfile">\r\n  <div class="modal-dialog">\r\n    <div class="modal-content">\r\n        <form ng-submit="uploadFiles()">\r\n            <div class="modal-header">\r\n              <button type="button" class="close" ng-click="emptyList()">\r\n                  <span aria-hidden="true">&times;</span>\r\n                  <span class="sr-only">{{"close" | translate}}</span>\r\n              </button>\r\n              <h4 class="modal-title">{{"upload_files" | translate}}</h4>\r\n            </div>\r\n            <div class="modal-body">\r\n              <label class="radio">\r\n                {{"files_will_uploaded_to" | translate}}\r\n                <b><span ng-repeat="var in fileNavigator.currentPath track by $index">/{{var | translate}}</span></b>\r\n              </label>\r\n              <button class="btn btn-default btn-block btn-xs" ngf-select="$parent.addForUpload($files)" ngf-multiple="true">\r\n                {{"select_files" | translate}}\r\n              </button>\r\n\r\n              <div class="upload-list">\r\n                <ul class="list-group">\r\n                  <li class="list-group-item" ng-repeat="(index, uploadFile) in $parent.uploadFileList track by index">\r\n                    <button class="btn btn-sm btn-danger pull-right" ng-click="$parent.removeFromUpload(index)">\r\n                        &times;\r\n                    </button>\r\n                    <h5 class="list-group-item-heading">{{uploadFile.name}}</h5>\r\n                    <p class="list-group-item-text">{{uploadFile.size | humanReadableFileSize}}</p>\r\n                  </li>\r\n                </ul>\r\n                <div ng-show="apiMiddleware.apiHandler.inprocess">\r\n                  <em>{{"uploading" | translate}}... {{apiMiddleware.apiHandler.progress}}%</em>\r\n                  <div class="progress mb0">\r\n                    <div class="progress-bar active" role="progressbar" aria-valuenow="{{apiMiddleware.apiHandler.progress}}" aria-valuemin="0" aria-valuemax="100" style="width: {{apiMiddleware.apiHandler.progress}}%"></div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div ng-include data-src="\'error-bar\'" class="clearfix"></div>\r\n            </div>\r\n            <div class="modal-footer text-center">\r\n              <div>\r\n                  <button type="button" class="btn btn-default btn-xs" ng-click="emptyList()">{{"cancel" | translate}}</button>\r\n                  <button type="submit" class="btn btn-primary btn-xs" ng-disabled="!$parent.uploadFileList.length || apiMiddleware.apiHandler.inprocess">{{\'upload\' | translate}}</button>\r\n              </div>\r\n            </div>\r\n        </form>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<div class="modal animated fadeIn" id="changepermissions">\r\n  <div class="modal-dialog">\r\n    <div class="modal-content">\r\n        <form ng-submit="changePermissions()">\r\n            <div class="modal-header">\r\n              <button type="button" class="close" data-dismiss="modal">\r\n                  <span aria-hidden="true">&times;</span>\r\n                  <span class="sr-only">{{"close" | translate}}</span>\r\n              </button>\r\n              <h4 class="modal-title">{{\'change_permissions\' | translate}}</h4>\r\n            </div>\r\n            <div class="modal-body">\r\n              <table class="table mb0">\r\n                  <thead>\r\n                      <tr>\r\n                          <th>{{\'permissions\' | translate}}</th>\r\n                          <th class="col-xs-1 text-center">{{\'read\' | translate}}</th>\r\n                          <th class="col-xs-1 text-center">{{\'write\' | translate}}</th>\r\n                          <th class="col-xs-1 text-center">{{\'exec\' | translate}}</th>\r\n                      </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                      <tr ng-repeat="(permTypeKey, permTypeValue) in temp.tempModel.perms track by permTypeKey">\r\n                          <td>{{permTypeKey | translate}}</td>\r\n                          <td ng-repeat="(permKey, permValue) in permTypeValue track by permKey" class="col-xs-1 text-center" ng-click="main()">\r\n                              <label class="col-xs-12">\r\n                                <input type="checkbox" ng-model="temp.tempModel.perms[permTypeKey][permKey]">\r\n                              </label>\r\n                          </td>\r\n                      </tr>\r\n                </tbody>\r\n              </table>\r\n              <div class="checkbox" ng-show="config.enablePermissionsRecursive && selectionHas(\'dir\')">\r\n                <label>\r\n                  <input type="checkbox" ng-model="temp.tempModel.recursive"> {{\'recursive\' | translate}}\r\n                </label>\r\n              </div>\r\n              <div class="clearfix mt10">\r\n                  <span class="label label-primary pull-left" ng-hide="temp.multiple">\r\n                    {{\'original\' | translate}}:\r\n                    {{temp.model.perms.toCode(selectionHas(\'dir\') ? \'d\':\'-\')}}\r\n                    ({{temp.model.perms.toOctal()}})\r\n                  </span>\r\n                  <span class="label label-primary pull-right">\r\n                    {{\'changes\' | translate}}:\r\n                    {{temp.tempModel.perms.toCode(selectionHas(\'dir\') ? \'d\':\'-\')}}\r\n                    ({{temp.tempModel.perms.toOctal()}})\r\n                  </span>\r\n              </div>\r\n              <div ng-include data-src="\'error-bar\'" class="clearfix"></div>\r\n            </div>\r\n            <div class="modal-footer text-center">\r\n              <button type="button" class="btn btn-default btn-xs" data-dismiss="modal">{{"cancel" | translate}}</button>\r\n              <button type="submit" class="btn btn-primary btn-xs" ng-disabled="">{{\'change\' | translate}}</button>\r\n            </div>\r\n        </form>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<div class="modal animated fadeIn" id="selector" ng-controller="ModalFileManagerCtrl">\r\n  <div class="modal-dialog">\r\n    <div class="modal-content">\r\n      <div class="modal-header">\r\n        <button type="button" class="close" data-dismiss="modal">\r\n            <span aria-hidden="true">&times;</span>\r\n            <span class="sr-only">{{"close" | translate}}</span>\r\n        </button>\r\n        <h4 class="modal-title">{{"select_destination_folder" | translate}}</h4>\r\n      </div>\r\n      <div class="modal-body">\r\n        <div>\r\n            <div ng-include="config.tplPath + \'/current-folder-breadcrumb.html\'"></div>\r\n            <div ng-include="config.tplPath + \'/main-table-modal.html\'"></div>\r\n            <!--<hr />-->\r\n            <!--<button class="btn btn-xs btn-default" ng-click="selectCurrent()">\r\n                <i class="glyphicon"></i> {{"select_this" | translate}}\r\n            </button>-->\r\n        </div>\r\n      </div>\r\n      <div class="modal-footer text-center">\r\n        <button type="button" class="btn btn-default btn-xs" data-dismiss="modal" ng-disabled="apiMiddleware.apiHandler.inprocess">{{"close" | translate}}</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<script type="text/ng-template" id="path-selector">\r\n  <div class="panel panel-primary mt10 mb0">\r\n    <div class="panel-body">\r\n        <div class="detail-sources">\r\n          <div class="like-code mr5"><b>{{"selection" | translate}}:</b>\r\n            <span ng-include="\'selected-files-msg\'"></span>\r\n          </div>\r\n        </div>\r\n        <div class="detail-sources">\r\n          <div class="like-code mr5">\r\n            <b>{{"destination" | translate}}:</b> {{ getSelectedPath() }}\r\n          </div>\r\n          <a href="" class="label label-primary" ng-click="openNavigator(fileNavigator.currentPath)">\r\n            {{\'change\' | translate}}\r\n          </a>\r\n        </div>\r\n    </div>\r\n  </div>\r\n</script>\r\n\r\n<script type="text/ng-template" id="error-bar">\r\n  <div class="label label-danger error-msg pull-left animated fadeIn" ng-show="apiMiddleware.apiHandler.error">\r\n    <i class="glyphicon glyphicon-remove-circle"></i>\r\n    <span>{{apiMiddleware.apiHandler.error}}</span>\r\n  </div>\r\n</script>\r\n\r\n<script type="text/ng-template" id="selected-files-msg">\r\n  <span ng-show="temps.length == 1">\r\n    {{singleSelection().model.name | translate}}\r\n  </span>\r\n  <span ng-show="temps.length > 1">\r\n    {{\'these_elements\' | translate:totalSelecteds()}}\r\n    <a href="" class="label label-primary" ng-click="showDetails = !showDetails">\r\n      {{showDetails ? \'-\' : \'+\'}} {{\'details\' | translate}}\r\n    </a>\r\n  </span>\r\n  <div ng-show="temps.length > 1 &amp;&amp; showDetails">\r\n    <ul class="selected-file-details">\r\n      <li ng-repeat="tempItem in temps track by $index">\r\n        <b>{{tempItem.model.name | translate}}</b>\r\n      </li>\r\n    </ul>\r\n  </div>\r\n</script>\r\n'),
e.put("src/templates/navbar.html",'<nav class="navbar navbar-inverse">\r\n    <div class="container-fluid">\r\n        <div class="row">\r\n          <div class="col-xs-6 col-sm-4 col-md-2">\r\n            <div class="navbar-collapse">\r\n                <div class="navbar-form">\r\n                  <!-- Dropdown button -->\r\n                  <div class="btn-group navbar-padding-left">\r\n                    <button type="button" class="btn btn-primary btn-xs" ng-click="modal(\'uploadfile\')">{{\'upload_files\' | translate}}</button>\r\n                    <button type="button" class="btn btn-primary dropdown-toggle btn-xs" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\r\n                      <span class="caret"></span>\r\n                      <span class="sr-only">{{ \'DASHBOARD.TOGGLE_DROPDOWN\' | translate }}</span>\r\n                    </button>\r\n                    <ul class="dropdown-menu">\r\n                      <li><a href="" ng-click="prepareNewFolder() && modal(\'newfolder\')"><i class="glyphicon glyphicon-plus"></i> {{\'new_folder\' | translate}}</a></li>\r\n                      <li><a href="" ng-click="modal(\'uploadfile\')"><i class="glyphicon glyphicon-cloud-upload"></i> {{\'upload_files\' | translate}}</a></li>\r\n                    </ul>\r\n                  </div>\r\n                <!--<button class="btn btn-primary btn-xs" ng-click="modal(\'uploadfile\')">\r\n                  <i class="glyphicon glyphicon-cloud-upload"></i> {{"upload_files" | translate}}\r\n                </button>-->\r\n              </div>\r\n            </div>\r\n          </div>\r\n            <div class="col-sm-5 col-md-7 hidden-xs">\r\n                <div ng-show="!config.breadcrumb">\r\n                    <a class="navbar-brand hidden-xs ng-binding" href="">angular-filemanager</a>\r\n                </div>\r\n                <div ng-include="config.tplPath + \'/current-folder-breadcrumb.html\'" ng-show="config.breadcrumb">\r\n                </div>\r\n            </div>\r\n            <div class="col-xs-6 col-sm-3 col-md-3">\r\n                <div class="navbar-collapse">\r\n                    <div class="navbar-form navbar-right text-right">\r\n\r\n                        <button class="btn btn-flat btn-sm" ng-click="modal(\'remove\')" title="{{\'remove\' | translate}}"\r\n                            ng-show="config.allowedActions.remove && (allowActionsWithSingleSelection() || allowActionsWithMultiSelection())">\r\n                            <i class="glyphicon glyphicon-trash"></i>\r\n                        </button>\r\n\r\n                        <button class="btn btn-flat btn-sm" ng-click="download()" title="{{\'download\' | translate}}"\r\n                                ng-show="config.allowedActions.download && !selectionHas(\'dir\') && singleSelection()">\r\n                            <i class="glyphicon glyphicon-cloud-download"></i>\r\n                        </button>\r\n\r\n                        <button class="btn btn-flat btn-sm" ng-click="modal(\'startreportgeneration\')" title="{{\'startbatchreportgeneration\' | translate}}"\r\n                            ng-show="config.allowedActions.reportgeneration && singleSelection() && !singleSelection().isFolder() && singleSelection().model.processingStatus === \'processed\'">\r\n                            <i class="glyphicon glyphicon-play"></i>\r\n                        </button>\r\n                        \r\n                        <button class="btn btn-flat btn-sm" ng-click="smartClick(singleSelection())" title="{{\'open\' | translate}}"\r\n                            ng-show="singleSelection() && singleSelection().isFolder()">\r\n                            <i class="glyphicon glyphicon-folder-open"></i>\r\n                        </button>\r\n                        \r\n                        <div class="btn-group" uib-dropdown auto-close="outsideClick">\r\n                            <button class="btn btn-flat btn-sm dropdown-toggle" type="button" id="dropDownMenuLang" uib-dropdown-toggle\r\n                              aria-expanded="true">\r\n                                <i class="glyphicon glyphicon-search mr2"></i>\r\n                            </button>\r\n                            <div uib-dropdown-menu class="dropdown-menu animated fast fadeIn pull-right" role="menu" aria-labelledby="dropDownMenuLang">\r\n                                <input type="text" class="form-control" ng-show="config.searchForm" placeholder="{{\'search\' | translate}}..." ng-model="$parent.query">\r\n                            </div>\r\n                        </div>\r\n\r\n                        <button class="btn btn-flat btn-sm" ng-click="$parent.setTemplate(\'main-icons.html\')" ng-show="$parent.viewTemplate !==\'main-icons.html\'"\r\n                            title="{{\'icons\' | translate}}">\r\n                            <i class="glyphicon glyphicon-th-large"></i>\r\n                        </button>\r\n\r\n                        <button class="btn btn-flat btn-sm" ng-click="$parent.setTemplate(\'main-table.html\')" ng-show="$parent.viewTemplate !==\'main-table.html\'"\r\n                            title="{{\'list\' | translate}}">\r\n                            <i class="glyphicon glyphicon-th-list"></i>\r\n                        </button>\r\n\r\n                        <!-- language dropdown is unnecessary -->\r\n                        <!--<div class="btn-group" uib-dropdown>\r\n                            <button class="btn btn-flat btn-sm dropdown-toggle" type="button" id="dropDownMenuLang" uib-dropdown-toggle aria-expanded="true">\r\n                                <i class="glyphicon glyphicon-globe mr2"></i>\r\n                            </button>\r\n\r\n                            <ul uib-dropdown-menu class="dropdown-menu scrollable-menu animated fast fadeIn pull-right" role="menu" aria-labelledby="dropDownMenuLang">\r\n                                <li role="presentation"><a role="menuitem" tabindex="-1" href="" ng-click="changeLanguage(\'hu\')">{{"hungarian" | translate}}</a></li>\r\n                                <li role="presentation"><a role="menuitem" tabindex="-1" href="" ng-click="changeLanguage(\'en\')">{{"english" | translate}}</a></li>\r\n                                <li role="presentation"><a role="menuitem" tabindex="-1" href="" ng-click="changeLanguage(\'zh\')">{{"chinese" | translate}}</a></li>\r\n                                <li role="presentation"><a role="menuitem" tabindex="-1" href="" ng-click="changeLanguage(\'es\')">{{"spanish" | translate}}</a></li>\r\n                                <li role="presentation"><a role="menuitem" tabindex="-1" href="" ng-click="changeLanguage(\'pt\')">{{"portuguese" | translate}}</a></li>\r\n                                <li role="presentation"><a role="menuitem" tabindex="-1" href="" ng-click="changeLanguage(\'fr\')">{{"french" | translate}}</a></li>\r\n                                <li role="presentation"><a role="menuitem" tabindex="-1" href="" ng-click="changeLanguage(\'de\')">{{"german" | translate}}</a></li>\r\n                                <li role="presentation"><a role="menuitem" tabindex="-1" href="" ng-click="changeLanguage(\'he\')">{{"hebrew" | translate}}</a></li>\r\n                                <li role="presentation"><a role="menuitem" tabindex="-1" href="" ng-click="changeLanguage(\'sk\')">{{"slovak" | translate}}</a></li>\r\n                                <li role="presentation"><a role="menuitem" tabindex="-1" href="" ng-click="changeLanguage(\'ru\')">{{"russian" | translate}}</a></li>\r\n                                <li role="presentation"><a role="menuitem" tabindex="-1" href="" ng-click="changeLanguage(\'ua\')">{{"ukrainian" | translate}}</a></li>\r\n                                <li role="presentation"><a role="menuitem" tabindex="-1" href="" ng-click="changeLanguage(\'tr\')">{{"turkish" | translate}}</a></li>\r\n                                <li role="presentation"><a role="menuitem" tabindex="-1" href="" ng-click="changeLanguage(\'fa\')">{{"persian" | translate}}</a></li>\r\n                            </ul>\r\n                        </div>-->\r\n\r\n                        <div class="btn-group" uib-dropdown>\r\n                            <button class="btn btn-flat btn-sm dropdown-toggle" type="button" id="more" uib-dropdown-toggle aria-expanded="true">\r\n                                <i class="glyphicon glyphicon-option-vertical"></i>\r\n                            </button>\r\n\r\n                            <ul uib-dropdown-menu class="dropdown-menu scrollable-menu animated fast fadeIn pull-right" role="menu" aria-labelledby="more">\r\n                                <li role="presentation" ng-show="config.allowedActions.createFolder" ng-click="prepareNewFolder() && modal(\'newfolder\')">\r\n                                    <!--<a href="#" role="menuitem" tabindex="-1">-->\r\n                                    <a role="menuitem" href="" tabindex="-1">\r\n                                        <i class="glyphicon glyphicon-plus"></i> {{"new_folder" | translate}}\r\n                                    </a>\r\n                                </li>\r\n                                <li role="presentation" ng-show="config.allowedActions.upload" ng-click="modal(\'uploadfile\')">\r\n                                    <!--<a href="#" role="menuitem" tabindex="-1">-->\r\n                                    <a role="menuitem" href="" tabindex="-1">\r\n                                        <i class="glyphicon glyphicon-cloud-upload"></i> {{"upload_files" | translate}}\r\n                                    </a>\r\n                                </li>\r\n                            </ul>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</nav>\r\n'),e.put("src/templates/sidebar.html",'<ul class="nav nav-sidebar file-tree-root">\r\n<li ng-repeat="item in fileNavigator.history | orderBy:[\'item.model.order\',\'name\'] track by $index" ng-include="\'folder-branch-item\'"\r\n    ng-class="{\'active\': item.name == fileNavigator.currentPath.join(\'/\')}">\r\n    </li>\r\n</ul>\r\n\r\n<script type="text/ng-template" id="folder-branch-item">\r\n    <a href="" ng-click="smartClick(item.item)" class="animated fast fadeInDown" ng-if="item.name != \'\'">\r\n        <span class="point">\r\n            <i class="glyphicon glyphicon-chevron-down" ng-show="isInThisPath(item.name)"></i>\r\n            <i class="glyphicon glyphicon-chevron-right" ng-show="!isInThisPath(item.name)"></i>\r\n        </span>\r\n        <i class="glyphicon glyphicon-folder-open mr2" ng-show="isInThisPath(item.name) && item.name !== \'user\' && item.name !== \'organizations\'"></i>\r\n        <i class="glyphicon glyphicon-folder-close mr2" ng-show="!isInThisPath(item.name) && item.name !== \'user\' && item.name !== \'organizations\'"></i>\r\n        <i class="glyphicon glyphicon-user mr2" ng-show="item.name === \'user\'"></i>\r\n        <i class="fa fa-university" ng-show="item.name === \'organizations\'"></i>\r\n        <span ng-if="item.item.model.base == true">{{ translateItem(item.item) | strLimit : 60 }}</span>\r\n        <span ng-if="item.item.model.base != true">{{ (item.name.split(\'/\').pop() || \'/\') | strLimit : 60 }}</span>\r\n    </a>\r\n    <ul class="nav nav-sidebar">\r\n        <li ng-repeat="item in item.nodes | orderBy:[\'item.model.order\',\'name\'] track by $index" ng-include="\'folder-branch-item\'" ng-class="{\'active\': item.name == fileNavigator.currentPath.join(\'/\')}">\r\n        </li>\r\n    </ul>\r\n</script>\r\n'),e.put("src/templates/spinner.html",'<div class="spinner-wrapper col-xs-12">\r\n    <svg class="spinner-container" style="width:65px;height:65px" viewBox="0 0 44 44">\r\n        <circle class="path" cx="22" cy="22" r="20" fill="none" stroke-width="4"></circle>\r\n    </svg>\r\n</div>')}]);